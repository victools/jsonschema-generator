
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-befc07b5.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-fd04e752.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#generator-options" class="toc-h1 toc-link" data-title="Generator – Options">Generator – Options</a>
          </li>
          <li>
            <a href="#generator-modules" class="toc-h1 toc-link" data-title="Generator – Modules">Generator – Modules</a>
          </li>
          <li>
            <a href="#generator-individual-configurations" class="toc-h1 toc-link" data-title="Generator – Individual Configurations">Generator – Individual Configurations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#quot-id-quot-keyword" class="toc-h2 toc-link" data-title=""$id" Keyword"><code>"$id"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-anchor-quot-keyword" class="toc-h2 toc-link" data-title=""$anchor" Keyword"><code>"$anchor"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#order-of-entries-in-quot-properties-quot-keyword" class="toc-h2 toc-link" data-title="Order of entries in "properties" Keyword">Order of entries in <code>"properties"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#names-in-global-quot-defs-quot-quot-definitions-quot" class="toc-h2 toc-link" data-title="Names in global "$defs"/"definitions"">Names in global <code>"$defs"</code>/<code>"definitions"</code></a>
                  </li>
                  <li>
                    <a href="#names-of-fields-methods-in-an-object-39-s-properties" class="toc-h2 toc-link" data-title="Names of fields/methods in an object's properties">Names of fields/methods in an object's <code>properties</code></a>
                  </li>
                  <li>
                    <a href="#omitting-ignoring-certain-fields-methods" class="toc-h2 toc-link" data-title="Omitting/ignoring certain fields/methods">Omitting/ignoring certain fields/methods</a>
                  </li>
                  <li>
                    <a href="#decide-whether-a-field-39-s-method-39-s-value-may-be-null" class="toc-h2 toc-link" data-title="Decide whether a field's/method's value may be null">Decide whether a field's/method's value may be <code>null</code></a>
                  </li>
                  <li>
                    <a href="#quot-required-quot-keyword" class="toc-h2 toc-link" data-title=""required" Keyword"><code>"required"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-dependentrequired-quot-keyword" class="toc-h2 toc-link" data-title=""dependentRequired" Keyword"><code>"dependentRequired"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-readonly-quot-keyword" class="toc-h2 toc-link" data-title=""readOnly" Keyword"><code>"readOnly"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-writeonly-quot-keyword" class="toc-h2 toc-link" data-title=""writeOnly" Keyword"><code>"writeOnly"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-title-quot-keyword" class="toc-h2 toc-link" data-title=""title" Keyword"><code>"title"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-description-quot-keyword" class="toc-h2 toc-link" data-title=""description" Keyword"><code>"description"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-default-quot-keyword" class="toc-h2 toc-link" data-title=""default" Keyword"><code>"default"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-const-quot-quot-enum-quot-keyword" class="toc-h2 toc-link" data-title=""const"/"enum" Keyword"><code>"const"</code>/<code>"enum"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-additionalproperties-quot-keyword" class="toc-h2 toc-link" data-title=""additionalProperties" Keyword"><code>"additionalProperties"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-patternproperties-quot-keyword" class="toc-h2 toc-link" data-title=""patternProperties" Keyword"><code>"patternProperties"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-minlength-quot-keyword" class="toc-h2 toc-link" data-title=""minLength" Keyword"><code>"minLength"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-maxlength-quot-keyword" class="toc-h2 toc-link" data-title=""maxLength" Keyword"><code>"maxLength"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-format-quot-keyword" class="toc-h2 toc-link" data-title=""format" Keyword"><code>"format"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-pattern-quot-keyword" class="toc-h2 toc-link" data-title=""pattern" Keyword"><code>"pattern"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-minimum-quot-keyword" class="toc-h2 toc-link" data-title=""minimum" Keyword"><code>"minimum"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-exclusiveminimum-quot-keyword" class="toc-h2 toc-link" data-title=""exclusiveMinimum" Keyword"><code>"exclusiveMinimum"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-maximum-quot-keyword" class="toc-h2 toc-link" data-title=""maximum" Keyword"><code>"maximum"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-exclusivemaximum-quot-keyword" class="toc-h2 toc-link" data-title=""exclusiveMaximum" Keyword"><code>"exclusiveMaximum"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-multipleof-quot-keyword" class="toc-h2 toc-link" data-title=""multipleOf" Keyword"><code>"multipleOf"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-minitems-quot-keyword" class="toc-h2 toc-link" data-title=""minItems" Keyword"><code>"minItems"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-maxitems-quot-keyword" class="toc-h2 toc-link" data-title=""maxItems" Keyword"><code>"maxItems"</code> Keyword</a>
                  </li>
                  <li>
                    <a href="#quot-uniqueitems-quot-keyword" class="toc-h2 toc-link" data-title=""uniqueItems" Keyword"><code>"uniqueItems"</code> Keyword</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#generator-advanced-configurations" class="toc-h1 toc-link" data-title="Generator – Advanced Configurations">Generator – Advanced Configurations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#instance-attribute-overrides" class="toc-h2 toc-link" data-title="Instance Attribute Overrides">Instance Attribute Overrides</a>
                  </li>
                  <li>
                    <a href="#type-attribute-overrides" class="toc-h2 toc-link" data-title="Type Attribute Overrides">Type Attribute Overrides</a>
                  </li>
                  <li>
                    <a href="#target-type-overrides" class="toc-h2 toc-link" data-title="Target Type Overrides">Target Type Overrides</a>
                  </li>
                  <li>
                    <a href="#subtype-resolvers" class="toc-h2 toc-link" data-title="Subtype Resolvers">Subtype Resolvers</a>
                  </li>
                  <li>
                    <a href="#custom-type-definitions" class="toc-h2 toc-link" data-title="Custom Type Definitions">Custom Type Definitions</a>
                  </li>
                  <li>
                    <a href="#custom-property-definitions" class="toc-h2 toc-link" data-title="Custom Property Definitions">Custom Property Definitions</a>
                  </li>
                  <li>
                    <a href="#order-of-object-properties" class="toc-h2 toc-link" data-title="Order of Object Properties">Order of Object Properties</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#jackson-module" class="toc-h1 toc-link" data-title="Jackson Module">Jackson Module</a>
          </li>
          <li>
            <a href="#jakarta-validation-module" class="toc-h1 toc-link" data-title="Jakarta Validation Module">Jakarta Validation Module</a>
          </li>
          <li>
            <a href="#javax-validation-module" class="toc-h1 toc-link" data-title="Javax Validation Module">Javax Validation Module</a>
          </li>
          <li>
            <a href="#swagger-1-5-module" class="toc-h1 toc-link" data-title="Swagger 1.5 Module">Swagger 1.5 Module</a>
          </li>
          <li>
            <a href="#swagger-2-module" class="toc-h1 toc-link" data-title="Swagger 2 Module">Swagger 2 Module</a>
          </li>
          <li>
            <a href="#maven-plugin" class="toc-h1 toc-link" data-title="Maven Plugin">Maven Plugin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#target-types-to-generate-schemas-for" class="toc-h2 toc-link" data-title="Target Types to generate Schemas for">Target Types to generate Schemas for</a>
                  </li>
                  <li>
                    <a href="#note-that-this-requires-a-different-lt-phase-gt-e-g-test-compile-being-specified-on-the-lt-execution-gt" class="toc-h2 toc-link" data-title="  Note that this requires a different &lt;phase&gt; (e.g., test-compile) being specified on the &lt;execution&gt;.">  Note that this requires a different <code>&lt;phase&gt;</code> (e.g., <code>test-compile</code>) being specified on the <code>&lt;execution&gt;</code>.</a>
                  </li>
                  <li>
                    <a href="#basic-configuration-options" class="toc-h2 toc-link" data-title="Basic Configuration Options">Basic Configuration Options</a>
                  </li>
                  <li>
                    <a href="#further-configurations-through-modules" class="toc-h2 toc-link" data-title="Further configurations through Modules">Further configurations through Modules</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#faq" class="toc-h1 toc-link" data-title="FAQ">FAQ</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#is-there-a-gradle-plugin" class="toc-h2 toc-link" data-title="Is there a Gradle Plugin?">Is there a Gradle Plugin?</a>
                  </li>
                  <li>
                    <a href="#what-about-enums" class="toc-h2 toc-link" data-title="What about enums?">What about enums?</a>
                  </li>
                  <li>
                    <a href="#how-to-always-inline-enums" class="toc-h2 toc-link" data-title="How to always inline enums?">How to always inline enums?</a>
                  </li>
                  <li>
                    <a href="#where-can-i-find-some-more-configuration-examples" class="toc-h2 toc-link" data-title="Where can I find some more configuration examples?">Where can I find some more configuration examples?</a>
                  </li>
                  <li>
                    <a href="#how-to-represent-a-map-lt-k-v-gt-in-a-generated-schema" class="toc-h2 toc-link" data-title="How to represent a Map&lt;K, V&gt; in a generated schema?">How to represent a <code>Map&lt;K, V&gt;</code> in a generated schema?</a>
                  </li>
                  <li>
                    <a href="#how-to-populate-default-values" class="toc-h2 toc-link" data-title="How to populate default values?">How to populate <code>default</code> values?</a>
                  </li>
                  <li>
                    <a href="#how-to-reference-a-separate-schema-file" class="toc-h2 toc-link" data-title="How to reference a separate schema/file?">How to reference a separate schema/file?</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#motivation" class="toc-h1 toc-link" data-title="Motivation">Motivation</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/victools/jsonschema-generator'>Have a look at the GitHub repo</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator">victools/jsonschema-generator</a> repository is home to multiple artifacts that are published independently to <a href="https://central.sonatype.org/">&quot;The Central Repository&quot; (Sonatype)</a> and from there to others like &quot;Maven Central&quot;.
Besides the main generator library itself, there are a few modules providing some standard configurations for your convenience.</p>

<aside class="notice">
    There may be other available modules outside of this repository. Refer to the main <a href="https://github.com/victools/jsonschema-generator/blob/master/README.md">README</a> for the list of known modules.
</aside>

<p>This documentation aims at always covering the latest released version of the <code>jsonschema-generator</code> and its (standard) modules. There is no documentation for previous versions at this stage.
Please refer to the <a href="https://github.com/victools/jsonschema-generator/blob/master/CHANGELOG.md">CHANGELOG</a> for a list of the incremental changes.</p>

<hr>

<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-generator">victools:jsonschema-generator</a> aims at allowing the generation of JSON Schema (Draft 6, Draft 7, Draft 2019-09 or Draft 2020-12) to document Java code.
This is expressly not limited to <em>JSON</em> but also allows for a Java API to be documented (i.e. including methods and the associated return values).</p>
<h1 id='generator-options'>Generator – Options</h1>
<p>The schema generation caters for a certain degree of flexibility out-of-the-box.<br>
Various aspects can be toggled on/off by including or excluding respective <code>Option</code>s.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">with</span><span class="o">(</span>
    <span class="nc">Option</span><span class="o">.</span><span class="na">EXTRA_OPEN_API_FORMAT_VALUES</span><span class="o">,</span>
    <span class="nc">Option</span><span class="o">.</span><span class="na">PLAIN_DEFINITION_KEYS</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">without</span><span class="o">(</span>
    <span class="nc">Option</span><span class="o">.</span><span class="na">Schema_VERSION_INDICATOR</span><span class="o">,</span>
    <span class="nc">Option</span><span class="o">.</span><span class="na">ENUM_KEYWORD_FOR_SINGLE_VALUES</span><span class="o">);</span>
</code></pre></div>
<aside class="success">
    Via <code>.with(Option...)</code> and <code>.without(Option...)</code> you can enable or disable <code>Option</code>s respectively.
    <br/>
    For your convenience, there are three <code>OptionPreset</code>s containing a number of these <code>Option</code>s – but you can create <code>OptionPreset</code>s of your own to provide it in the <code>SchemaGeneratorConfigBuilder</code>'s constructor.
</aside>

<table>
  <thead>
    <tr><th>#</th><th style="width: 50%">Behavior if included</th><th style="width: 50%">Behavior if excluded</th></tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="2" style="text-align: right">1</td>
      <td colspan="2"><code>Option.SCHEMA_VERSION_INDICATOR</code></td>
    </tr>
    <tr>
      <td>Setting appropriate <code>$schema</code> attribute on main schema being generated.</td>
      <td>No <code>$schema</code> attribute is being added.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">2</td>
      <td colspan="2"><code>Option.ADDITIONAL_FIXED_TYPES</code></td>
    </tr>
    <tr>
      <td>
        <ul>
          <li><code>String</code>/<code>Character</code>/<code>char</code>/<code>CharSequence</code> are treated as <code>{ "type": "string" }</code> schema</li>
          <li><code>Boolean</code>/<code>boolean</code> are treated as <code>{ "type": "boolean" }</code> schema</li>
          <li><code>Integer</code>/<code>int</code>/<code>Long</code>/<code>long</code>/<code>Short</code>/<code>short</code>/<code>Byte</code>/<code>byte</code> are treated as <code>{ "type": "integer" }</code> schema</li>
          <li><code>Double</code>/<code>double</code>/<code>Float</code>/<code>float</code> are treated as <code>{ "type": "number" }</code> schema</li>
          <li><code>BigInteger</code> as <code>{ "type": "integer" }</code> schema</li>
          <li><code>BigDecimal</code>/<code>Number</code> as <code>{ "type": "number" }</code> schema</li>
          <li><code>LocalDate</code>/<code>LocalDateTime</code>/<code>LocalTime</code>/<code>ZonedDateTime</code>/<code>OffsetDateTime</code>/<code>OffsetTime</code>/<code>Instant</code>/<code>Period</code>/<code>ZoneId</code>/<code>Date</code>/<code>Calendar</code>/<code>UUID</code> as <code>{ "type": "string" }</code> schema</li>
        </ul>
      </td>
      <td>
        <ul>
          <li><code>String</code>/<code>Character</code>/<code>char</code>/<code>CharSequence</code> are treated as <code>{ "type": "string" }</code> schema</li>
          <li><code>Boolean</code>/<code>boolean</code> are treated as <code>{ "type": "boolean" }</code> schema</li>
          <li><code>Integer</code>/<code>int</code>/<code>Long</code>/<code>long</code>/<code>Short</code>/<code>short</code>/<code>Byte</code>/<code>byte</code> are treated as <code>{ "type": "integer" }</code> schema</li>
          <li><code>Double</code>/<code>double</code>/<code>Float</code>/<code>float</code> are treated as <code>{ "type": "number" }</code> schema</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">3</td>
      <td colspan="2"><code>Option.STANDARD_FORMATS</code></td>
    </tr>
    <tr>
      <td>Subset of the <code>"format"</code> values being added by <code>Option.EXTRA_OPEN_API_FORMAT_VALUES</code> but limited to built-in supported <code>"format"</code> values (<code>"date"</code>, <code>"time"</code>, <code>"date-time"</code>, <code>"duration"</code>, <code>"uuid"</code>, <code>"uri"</code>).
      Only works if <code>Option.ADDITIONAL_FIXED_TYPES</code> is set. and it is overriden by <code>Option.EXTRA_OPEN_API_FORMAT_VALUES</code></td>
      <td>no automatic <code>"format"</code> values are being included, unless <code>Option.EXTRA_OPEN_API_FORMAT_VALUES</code> indicates otherwise.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">4</td>
      <td colspan="2"><code>Option.EXTRA_OPEN_API_FORMAT_VALUES</code></td>
    </tr>
    <tr>
      <td>Include extra <code>"format"</code> values (e.g. <code>"int32"</code>, <code>"int64"</code>, <code>"date"</code>, <code>"time"</code>, <code>"date-time"</code>, <code>"duration"</code>, <code>"uuid"</code>, <code>"uri"</code>) for fixed types (primitive/basic types, plus some of the <code>Option.ADDITIONAL_FIXED_TYPES</code> if they are enabled as well). It overrides <code>Option.STANDARD_FORMATS</code>, which would cover only a subset of the OpenAPI format values.</td></td>
      <td>no automatic <code>"format"</code> values are being included, unless <code>Option.STANDARD_FORMATS</code> indicates otherwise.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">5</td>
      <td colspan="2"><code>Option.SIMPLIFIED_ENUMS</code></td>
    </tr>
    <tr>
      <td>Treating encountered enum types as objects, but including only the <code>name()</code> method and listing the names of the enum constants as its <code>enum</code> values.</td>
      <td>-</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">6</td>
      <td colspan="2"><code>Option.FLATTENED_ENUMS</code></td>
    </tr>
    <tr>
      <td>Treating encountered enum types as <code>{ "type": "string" }</code> schema with the names of the enum constants being listed as its <code>enum</code> values.</td>
      <td>-</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">7</td>
      <td colspan="2"><code>Option.FLATTENED_ENUMS_FROM_TOSTRING</code></td>
    </tr>
    <tr>
      <td>Treating encountered enum types as <code>{ "type": "string" }</code> schema with the <code>toString()</code> values of the enum constants being listed as its <code>enum</code> values.</td>
      <td>-</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">8</td>
      <td colspan="2"><code>Option.SIMPLIFIED_OPTIONALS</code></td>
    </tr>
    <tr>
      <td>Treating encountered <code>Optional</code> instances as objects, but including only the <code>get()</code>, <code>orElse()</code> and <code>isPresent()</code> methods.</td>
      <td>-</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">9</td>
      <td colspan="2"><code>Option.FLATTENED_OPTIONALS</code></td>
    </tr>
    <tr>
      <td>Replacing encountered <code>Optional</code> instances as null-able forms of their generic parameter type.</td>
      <td>-</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">10</td>
      <td colspan="2"><code>Option.FLATTENED_SUPPLIERS</code></td>
    </tr>
    <tr>
      <td>Replacing encountered <code>Supplier</code> instances with their generic parameter type.</td>
      <td>-</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">11</td>
      <td colspan="2"><code>Option.VALUES_FROM_CONSTANT_FIELDS</code></td>
    </tr>
    <tr>
      <td>
        Attempt to load the values of <code>static</code> <code>final</code> fields, serialize them via the <code>ObjectMapper</code> and include them as the respective schema's <code>const</code> value.
        <div>For this option to take effect, those <code>static</code> <code>final</code> fields need to be included via <code>Option.PUBLIC_STATIC_FIELDS</code> and/or <code>Option.NONPUBLIC_STATIC_FIELDS</code>.</div>
      </td>
      <td>No <code>const</code> values are populated for <code>static</code> <code>final</code> fields.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">12</td>
      <td colspan="2"><code>Option.PUBLIC_STATIC_FIELDS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> <code>static</code> fields in an object's <code>properties</code>.</td>
      <td>No <code>public</code> <code>static</code> fields are included in an object's <code>properties</code>.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">13</td>
      <td colspan="2"><code>Option.PUBLIC_NONSTATIC_FIELDS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> non-<code>static</code> fields in an object's <code>properties</code>.</td>
      <td>No <code>public</code> non-<code>static</code> fields are included in an object's <code>properties</code>.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">14</td>
      <td colspan="2"><code>Option.NONPUBLIC_STATIC_FIELDS</code></td>
    </tr>
    <tr>
      <td>Include <code>protected</code>/package-visible/<code>private</code> <code>static</code> fields in an object's <code>properties</code>.</td>
      <td>No <code>protected</code>/package-visible/<code>private</code> <code>static</code> fields are included in an object's <code>properties</code>.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">15</td>
      <td colspan="2"><code>Option.NONPUBLIC_NONSTATIC_FIELDS_WITH_GETTERS</code></td>
    </tr>
    <tr>
      <td>Include <code>protected</code>/package-visible/<code>private</code> non-<code>static</code> fields in an object's <code>properties</code> if they have corresponding getter methods.</td>
      <td>No <code>protected</code>/package-visible/<code>private</code> non-<code>static</code> fields with getter methods are included in an object's <code>properties</code>.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">16</td>
      <td colspan="2"><code>Option.NONPUBLIC_NONSTATIC_FIELDS_WITHOUT_GETTERS</code></td>
    </tr>
    <tr>
      <td>Include <code>protected</code>/package-visible/<code>private</code> non-<code>static</code> fields in an object's <code>properties</code> if they don't have corresponding getter methods.</td>
      <td>No <code>protected</code>/package-visible/<code>private</code> non-<code>static</code> fields without getter methods are included in an object's <code>properties</code>.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">17</td>
      <td colspan="2"><code>Option.TRANSIENT_FIELDS</code></td>
    </tr>
    <tr>
      <td>Include <code>transient</code> fields in an object's <code>properties</code> if they would otherwise be included according to the <code>Option</code>s above.</td>
      <td>No <code>transient</code> fields are included in an object's <code>properties</code> even if they would otherwise be included according to the <code>Option</code>s above.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">18</td>
      <td colspan="2"><code>Option.STATIC_METHODS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> <code>static</code> methods in an object's <code>properties</code></td>
      <td>No <code>static</code> methods are included in an object's <code>properties</code> even if they would be included according to the <code>Option.VOID_METHODS</code> below.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">19</td>
      <td colspan="2"><code>Option.VOID_METHODS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> <code>void</code> methods in an object's <code>properties</code></td>
      <td>No <code>void</code> methods are included in an object's <code>properties</code> even if they would be included according to the <code>Option.STATIC_METHODS</code> above.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">20</td>
      <td colspan="2"><code>Option.GETTER_METHODS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> methods in an object's <code>properties</code> if a corresponding field exists that fulfills the usual naming conventions (<code>getX()</code>/<code>x</code> or <code>isValid()</code>/<code>valid</code>).</td>
      <td>No methods are included in an object's <code>properties</code>> for which a field exists that fulfills the usual naming conventions.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">21</td>
      <td colspan="2"><code>Option.NONSTATIC_NONVOID_NONGETTER_METHODS</code></td>
    </tr>
    <tr>
      <td>Include <code>public</code> non-<code>static</code> non-<code>void</code> methods in an object's <code>properties</code> for which no field exists that fulfills the usual getter naming conventions.</td>
      <td>No non-<code>static</code>/non-<code>void</code>/non-getter methods are included in an object's <code>properties</code>.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">22</td>
      <td colspan="2"><code>Option.NULLABLE_FIELDS_BY_DEFAULT</code></td>
    </tr>
    <tr>
      <td>The schema <code>type</code> for a field allows <code>null</code> by default unless some configuration specifically says it is not null-able.</td>
      <td>The schema <code>type</code> for a field does not allow for <code>null</code> by default unless some configuration specifically says it is null-able.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">23</td>
      <td colspan="2"><code>Option.NULLABLE_METHOD_RETURN_VALUES_BY_DEFAULT</code></td>
    </tr>
    <tr>
      <td>The schema <code>type</code> for a method's return type allows <code>null</code> by default unless some configuration specifically says it is not null-able.</td>
      <td>The schema <code>type</code> for a method's return type does not allow for <code>null</code> by default unless some configuration specifically says it is null-able.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">24</td>
      <td colspan="2"><code>Option.NULLABLE_ARRAY_ITEMS_ALLOWED</code></td>
    </tr>
    <tr>
      <td>The schema <code>type</code> for the items in an array (in case of a field's value or method's return value being a container/array) allows <code>null</code>, if the corresponding configuration explicitly says so. Otherwise, they're still deemed not null-able by default.</td>
      <td>The schema <code>type</code> for the items in an array (in case of a field's value or method's return value being a container/array) never allows <code>null</code>.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">25</td>
      <td colspan="2"><code>Option.FIELDS_DERIVED_FROM_ARGUMENTFREE_METHODS</code></td>
    </tr>
    <tr>
      <td>Include argument-free methods as fields, e.g. the return type of <code>getName()</code> will be included as <code>name</code> field.</td>
      <td>Argument-free methods will be included with the appended parentheses.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">26</td>
      <td colspan="2"><code>Option.MAP_VALUES_AS_ADDITIONAL_PROPERTIES</code></td>
    </tr>
    <tr>
      <td>Setting the <code>additionalProperties</code> attribute in each <code>Map&lt;K, V&gt;</code> to a schema representing the declared value type <code>V</code>.</td>
      <td>Omitting the <code>additionalProperties</code> attribute in <code>Map&lt;K, V&gt;</code> schemas by default (thereby allowing additional properties of any type) unless some configuration specifically says something else.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">27</td>
      <td colspan="2"><code>Option.ACCEPT_SINGLE_VALUE_AS_ARRAY</code></td>
    </tr>
    <tr>
      <td>Including an <code>anyOf</code> for every field/method declaring a container type. The <code>anyOf</code> then allows for either the array as declared or just a single item type instead.</td>
      <td>A container type will be represented by an array with the declared item type.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">28</td>
      <td colspan="2"><code>Option.ENUM_KEYWORD_FOR_SINGLE_VALUES</code></td>
    </tr>
    <tr>
      <td>Using the <code>enum</code> keyword for allowed values, even if there is only one.</td>
      <td>In case of a single allowed value, use the <code>const</code> keyword instead of <code>enum</code>.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">29</td>
      <td colspan="2"><code>Option.FORBIDDEN_ADDITIONAL_PROPERTIES_BY_DEFAULT</code></td>
    </tr>
    <tr>
      <td>Setting the <code>additionalProperties</code> attribute in all object schemas to <code>false</code> by default unless some configuration specifically says something else.</td>
      <td>Omitting the <code>additionalProperties</code> attribute in all object schemas by default (thereby allowing any additional properties) unless some configuration specifically says something else.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">30</td>
      <td colspan="2"><code>Option.DEFINITIONS_FOR_ALL_OBJECTS</code></td>
    </tr>
    <tr>
      <td>Include an entry in the <code>$defs</code>/<code>definitions</code> for each encountered object type that is not explicitly declared as "inline" via a custom definition.</td>
      <td>Only include those entries in the <code>$defs</code>/<code>definitions</code> for object types that are referenced more than once and which are not explicitly declared as "inline" via a custom definition.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">31</td>
      <td colspan="2"><code>Option.DEFINITION_FOR_MAIN_SCHEMA</code></td>
    </tr>
    <tr>
      <td>Include an entry in the <code>$defs</code>/<code>definitions</code> for the main/target type and a corresponding <code>$ref</code> on the top level (which is only valid from Draft 2019-09 onward).</td>
      <td>Define the main/target type "inline".</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">32</td>
      <td colspan="2"><code>Option.DEFINITIONS_FOR_MEMBER_SUPERTYPES</code></td>
    </tr>
    <tr>
      <td>For a member (field/method), having a declared type for which subtypes are being detected, include a single definition with any collected member attributes assigned directly. Any subtypes are only being handled as generic types, i.e., outside of the member context. That means, certain relevant annotations may be ignored (e.g. a jackson <code>@JsonTypeInfo</code> override on a single member would not be correctly reflected in the produced schema).</td>
      <td>For a member (field/method), having a declared type for which subtypes are being detected, include a list of definittions: one for each subtype in the given member's context. This allows independently interpreting contextual information (e.g., member annotations) for each subtype.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">33</td>
      <td colspan="2"><code>Option.INLINE_ALL_SCHEMAS</code></td>
    </tr>
    <tr>
      <td>Do not include any <code>$defs</code>/<code>definitions</code> but rather define all sub-schemas "inline" – however, this results in an exception being thrown if the given type contains any kind of circular reference.</td>
      <td>Depending on whether <code>DEFINITIONS_FOR_ALL_OBJECTS</code> is included or excluded.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">34</td>
      <td colspan="2"><code>Option.INLINE_NULLABLE_SCHEMAS</code></td>
    </tr>
    <tr>
      <td>Do not include <code>$defs</code>/<code>definitions</code> for a nullable version of a type, but rather define it "inline". The non-nullable type may still be referenced.</td>
      <td>Depending on whether <code>DEFINITIONS_FOR_ALL_OBJECTS</code> is included or excluded.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">35</td>
      <td colspan="2"><code>Option.PLAIN_DEFINITION_KEYS</code></td>
    </tr>
    <tr>
      <td>Ensure that the keys for any <code>$defs</code>/<code>definitions</code> match the regular expression <code>^[a-zA-Z0-9\.\-_]+$</code> (as expected by the OpenAPI specification 3.0).</td>
      <td>Ensure that the keys for any <code>$defs</code>/<code>definitions</code> are URI compatible (as expected by the JSON Schema specification).</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">36</td>
      <td colspan="2"><code>Option.ALLOF_CLEANUP_AT_THE_END</code></td>
    </tr>
    <tr>
      <td>At the very end of the schema generation reduce <code>allOf</code> wrappers where it is possible without overwriting any attributes – this also affects the results from custom definitions.</td>
      <td>Do not attempt to reduce <code>allOf</code> wrappers but preserve them as they were generated regardless of them being necessary or not.</td>
    </tr>
    <tr><th>#</th><th>Behavior if included</th><th>Behavior if excluded</th></tr>
    <tr>
      <td rowspan="2" style="text-align: right">37</td>
      <td colspan="2"><code>Option.STRICT_TYPE_INFO</code></td>
    </tr>
    <tr>
      <td>As final step in the schema generation process, ensure all sub schemas containing keywords implying a particular "type" (e.g., "properties" implying an "object") have this "type" declared explicitly – this also affects the results from custom definitions.</td>
      <td>No additional "type" indication will be added for each sub schema, e.g. on the collected attributes where the "allOf" clean-up could not be applied or was disabled.</td>
    </tr>
    <tr>
      <td rowspan="2" style="text-align: right">38</td>
      <td colspan="2"><code>Option.NULLABLE_ALWAYS_AS_ANYOF</code></td>
    </tr>
    <tr>
      <td>A "type": "null" will not be combined with other "type" values in an array. Instead, a separate "anyOf" with a subschema only containing the "type": "null" will be included.</td>
      <td>For brevity's sake, a "type": "null" may be combined with other "type" values, e.g. as "type": ["null", "object"].</td>
    </tr>
  </tbody>
</table>

<p>Below, you can find the lists of <code>Option</code>s included/excluded in the respective standard <code>OptionPreset</code>s:</p>

<ul>
<li>&quot;F_D&quot; = <code>FULL_DOCUMENTATION</code></li>
<li>&quot;J_O&quot; = <code>JAVA_OBJECT</code></li>
<li>&quot;P_J&quot; = <code>PLAIN_JSON</code></li>
</ul>

<table><thead>
<tr>
<th>#</th>
<th>Standard <code>Option</code></th>
<th>F_D</th>
<th>J_O</th>
<th>P_J</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td><code>SCHEMA_VERSION_INDICATOR</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>2</td>
<td><code>ADDITIONAL_FIXED_TYPES</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>3</td>
<td><code>STANDARD_FORMATS</code></td>
<td>⬜</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>4</td>
<td><code>EXTRA_OPEN_API_FORMAT_VALUES</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>5</td>
<td><code>SIMPLIFIED_ENUMS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>6</td>
<td><code>FLATTENED_ENUMS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>7</td>
<td><code>FLATTENED_ENUMS_FROM_TOSTRING</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>8</td>
<td><code>SIMPLIFIED_OPTIONALS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>9</td>
<td><code>FLATTENED_OPTIONALS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>10</td>
<td><code>FLATTENED_SUPPLIERS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>11</td>
<td><code>VALUES_FROM_CONSTANT_FIELDS</code></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>12</td>
<td><code>PUBLIC_STATIC_FIELDS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>13</td>
<td><code>PUBLIC_NONSTATIC_FIELDS</code></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>14</td>
<td><code>NONPUBLIC_STATIC_FIELDS</code></td>
<td>✅</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>15</td>
<td><code>NONPUBLIC_NONSTATIC_FIELDS_WITH_GETTERS</code></td>
<td>✅</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>16</td>
<td><code>NONPUBLIC_NONSTATIC_FIELDS_WITHOUT_GETTERS</code></td>
<td>✅</td>
<td>⬜️</td>
<td>✅</td>
</tr>
<tr>
<td>17</td>
<td><code>TRANSIENT_FIELDS</code></td>
<td>✅</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>18</td>
<td><code>STATIC_METHODS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>19</td>
<td><code>VOID_METHODS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>20</td>
<td><code>GETTER_METHODS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>21</td>
<td><code>NONSTATIC_NONVOID_NONGETTER_METHODS</code></td>
<td>✅</td>
<td>✅</td>
<td>⬜️</td>
</tr>
<tr>
<td>22</td>
<td><code>NULLABLE_FIELDS_BY_DEFAULT</code></td>
<td>✅</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>23</td>
<td><code>NULLABLE_METHOD_RETURN_VALUES_BY_DEFAULT</code></td>
<td>✅</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>24</td>
<td><code>NULLABLE_ARRAY_ITEMS_ALLOWED</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>25</td>
<td><code>FIELDS_DERIVED_FROM_ARGUMENTFREE_METHODS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>26</td>
<td><code>MAP_VALUES_AS_ADDITIONAL_PROPERTIES</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>27</td>
<td><code>ACCEPT_SINGLE_VALUE_AS_ARRAY</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>28</td>
<td><code>ENUM_KEYWORD_FOR_SINGLE_VALUES</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>29</td>
<td><code>FORBIDDEN_ADDITIONAL_PROPERTIES_BY_DEFAULT</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>30</td>
<td><code>DEFINITIONS_FOR_ALL_OBJECTS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>31</td>
<td><code>DEFINITION_FOR_MAIN_SCHEMA</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>32</td>
<td><code>DEFINITIONS_FOR_MEMBER_SUPERTYPES</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>33</td>
<td><code>INLINE_ALL_SCHEMAS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>34</td>
<td><code>INLINE_NULLABLE_SCHEMAS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>35</td>
<td><code>PLAIN_DEFINITION_KEYS</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>36</td>
<td><code>ALLOF_CLEANUP_AT_THE_END</code></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>37</td>
<td><code>STRICT_TYPE_INFO</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
<tr>
<td>38</td>
<td><code>NULLABLE_ALWAYS_AS_ANYOF</code></td>
<td>⬜️</td>
<td>⬜️</td>
<td>⬜️</td>
</tr>
</tbody></table>
<h1 id='generator-modules'>Generator – Modules</h1>
<p>Similar to an <code>OptionPreset</code> being a short-cut to including various <code>Option</code>s, the concept of <code>Module</code>s is a convenient way of including multiple <a href="#generator-individual-configurations">individual configurations</a> or even <a href="#generator-advanced-configurations">advanced configurations</a> (as per the following sections) at once.</p>

<p>You can easily group your own set of configurations into a <code>Module</code> if you wish.
However, the main intention behind <code>Module</code>s is that they are an entry-point for separate external dependencies you can &quot;plug-in&quot; as required via <code>SchemaGeneratorConfigBuilder.with(Module)</code>, like the few standard <code>Module</code>s documented below.</p>

<aside class="notice">
    There may be other available modules outside of this repository.
    Refer to the main <a href="https://github.com/victools/jsonschema-generator/blob/master/README.md">README</a> for the list of known modules.
</aside>
<h1 id='generator-individual-configurations'>Generator – Individual Configurations</h1>
<blockquote>
<p>E.g. for the given configuration:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forField</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTitleResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">" = "</span>
            <span class="o">+</span> <span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">isFakeContainerItemScope</span><span class="o">()</span> <span class="o">?</span> <span class="s">"(fake) "</span> <span class="o">:</span> <span class="s">"(real) "</span><span class="o">)</span>
            <span class="o">+</span> <span class="n">field</span><span class="o">.</span><span class="na">getSimpleTypeDescription</span><span class="o">())</span>
    <span class="o">.</span><span class="na">withDescriptionResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="s">"original type = "</span>
            <span class="o">+</span> <span class="n">field</span><span class="o">.</span><span class="na">getContext</span><span class="o">().</span><span class="na">getSimpleTypeDescription</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getDeclaredType</span><span class="o">()));</span>
<span class="nc">JsonNode</span> <span class="n">mySchema</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGenerator</span><span class="o">(</span><span class="n">configBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">())</span>
        <span class="o">.</span><span class="na">generateSchema</span><span class="o">(</span><span class="nc">MyClass</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<blockquote>
<p>and target class:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">texts</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>The following schema will be generated:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"texts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texts = (real) List&lt;String&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original type = List&lt;String&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"texts = (fake) String"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original type = List&lt;String&gt;"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>In order to control various attributes being set during the schema generation, you can define for each (supported) one of them individually how a respective value should be resolved. Overall, you usually have the same configuration options either for:</p>

<ul>
<li>an encountered type in general via <code>SchemaGeneratorConfigBuilder.forTypesInGeneral()</code> or</li>
<li>in the context of a specific field via <code>SchemaGeneratorConfigBuilder.forFields()</code> or </li>
<li>in the context of a specific method&#39;s return value via <code>SchemaGeneratorConfigBuilder.forMethods()</code>.</li>
</ul>

<aside class="warning">
    As general rules:
    <ol>
        <li>Returning <code>null</code> in any of those individual configurations means that no special handling applies and the next configuration of the same kind will be consulted.</li>
        <li><strong>Order matters!</strong> The configurations will be consulted in the order they are set on the <code>SchemaGeneratorConfigBuilder</code>. Configurations from <code>Option</code>s always go last.</li>
        <li>You may want to specifically consider or return <code>null</code> for cases where <code>FieldScope.isFakeContainerItemScope()</code>/<code>MethodScope.isFakeContainerItemScope()</code> returns <code>true</code>.<br/>
            Because each individual configuration added via <code>.forField()</code> or <code>.forMethods()</code> is being called upon twice if the encountered type is a "container" (i.e. an array or subtype of <code>Collection</code>).</li>
    </ol>
</aside>

<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-generator#supported-json-schema-attributes">jsonschema-generator README</a> contains a list of the supported JSON Schema attributes.<br>
The following list of individual configuration options on the <code>SchemaGeneratorConfigBuilder</code> is to a large extent the inverse of that list.</p>
<h2 id='quot-id-quot-keyword'><code>&quot;$id&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withIdResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">MyClass</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"main-schema-id"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withIdResolver()</code> is expecting the <code>&quot;$id&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code> – in case of multiple configurations, the first non-<code>null</code> value will be applied.</p>

<aside class="notice">
    While an <code>"$id"</code> value may be included in a (sub)schema, it is <strong>not</strong> considered in the standard <code>"$ref"</code> values within the generated overall schema.
</aside>
<h2 id='quot-anchor-quot-keyword'><code>&quot;$anchor&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAnchorResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">AnchorClass</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"anchor-value"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withAnchorResolver()</code> is expecting the <code>&quot;$anchor&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code> – in case of multiple configurations, the first non-<code>null</code> value will be applied.</p>

<aside class="notice">
    While an <code>"$anchor"</code> value may be included in a (sub)schema, it is <strong>not</strong> considered in the standard <code>"$ref"</code> values within the generated overall schema.
</aside>
<h2 id='order-of-entries-in-quot-properties-quot-keyword'>Order of entries in <code>&quot;properties&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPropertySorter</span><span class="o">(</span><span class="nc">PropertySortUtils</span><span class="o">.</span><span class="na">SORT_PROPERTIES_FIELDS_BEFORE_METHODS</span>
        <span class="o">.</span><span class="na">thenComparing</span><span class="o">((</span><span class="n">memberOne</span><span class="o">,</span> <span class="n">memberTwo</span><span class="o">)</span> <span class="o">-&gt;</span>
            <span class="c1">// sort fields/methods alphabetically, while ignoring upper/lower case</span>
            <span class="n">memberOne</span><span class="o">.</span><span class="na">getSchemaPropertyName</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">()</span>
                <span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">memberTwo</span><span class="o">.</span><span class="na">getSchemaPropertyName</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">()));</span>
</code></pre></div>
<p><code>withPropertySorter()</code> is expecting a <code>Comparator</code> for sorting an object&#39;s fields and methods in the produced <code>&quot;properties&quot;</code> – this replaces any previously given sorting algorithm, i.e. only one <code>Comparator</code> can be set – by default, fields are listed before methods with each group in alphabetical order.</p>

<aside class="notice">
    The JSON Schema specification does not offer a keyword to indicate that the order of <code>properties</code> within a schema must be a met by a JSON instance being validated.
    <br/>
    However, some libraries that produce a web form based on a given JSON Schema may present the respective input fields in the order of appearance in the schema. If you intend to use the generated JSON Schema for such a use-case, the <code>withPropertySorter()</code> configuration is the way to go.
</aside>
<h2 id='names-in-global-quot-defs-quot-quot-definitions-quot'>Names in global <code>&quot;$defs&quot;</code>/<code>&quot;definitions&quot;</code></h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDefinitionNamingStrategy</span><span class="o">(</span><span class="k">new</span> <span class="nc">DefaultSchemaDefinitionNamingStrategy</span><span class="o">()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getDefinitionNameForKey</span><span class="o">(</span><span class="nc">DefinitionKey</span> <span class="n">key</span><span class="o">,</span> <span class="nc">SchemaGenerationContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getDefinitionNameForKey</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">generationContext</span><span class="o">).</span><span class="na">toLowerCase</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">adjustDuplicateNames</span><span class="o">(</span><span class="nc">Map</span><span class="o">&lt;</span><span class="nc">DefinitionKey</span><span class="o">,</span> <span class="nc">String</span><span class="o">&gt;</span> <span class="n">duplicateNames</span><span class="o">,</span> <span class="nc">SchemaGenerationContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">char</span> <span class="n">suffix</span> <span class="o">=</span> <span class="sc">'a'</span><span class="o">;</span>
            <span class="n">duplicateNames</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">entry</span> <span class="o">-&gt;</span> <span class="n">entry</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">+</span> <span class="s">"-"</span> <span class="o">+</span> <span class="n">suffix</span><span class="o">++));</span>
        <span class="o">}</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">String</span> <span class="nf">adjustNullableName</span><span class="o">(</span><span class="nc">DefinitionKey</span> <span class="n">key</span><span class="o">,</span> <span class="nc">String</span> <span class="n">definitionName</span><span class="o">,</span> <span class="nc">SchemaGenerationContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">definitionName</span> <span class="o">+</span> <span class="s">"-nullable"</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">});</span>
</code></pre></div>
<p><code>withDefinitionNamingStrategy()</code> is expecting a <code>SchemaDefinitionNamingStrategy</code> that defines what keys to assign to subschemas in the <code>&quot;definitions&quot;</code>/<code>&quot;$defs&quot;</code>.<br>
Optionally, you can override the logic how to adjust them in case of multiple types having the same name and for a subschema&#39;s nullable alternative.</p>

<p>There is a <code>DefaultSchemaDefinitionNamingStrategy</code>, which is being applied if you don&#39;t set a specific naming strategy yourself:</p>

<ul>
<li>It uses a given type&#39;s simple class name (i.e. without package prefix) as the definition name, potentially prepending type arguments in case of it being a parameterized type.</li>
<li>Duplicate names may occur if the same simple class name (with identical type parameters) appears multiple times in your schema, i.e. from different packages. As the definition names need to be unique, those are then prepended with a running number. E.g. <code>java.time.DateTime</code> and <code>your.pkg.DateTime</code> would be represented by <code>DateTime-1</code> and <code>DateTime-2</code>.</li>
<li>When a given type appears in its <code>null</code>able and non-<code>null</code>able form, two separate definitions may be included to reduce duplication. The &quot;normal&quot; named one and the <code>null</code>able one getting a <code>&quot;-nullable&quot;</code> suffix to its definition name.</li>
</ul>

<aside class="warning">
    To avoid illegal characters being used in <code>"$ref"</code> values referencing a definition, the definition names are automatically cleaned-up. I.e. the actual definition names in the generated schema may differ from what is being returned by your <code>SchemaDefinitionNamingStrategy</code> implementation.
    <br/>
    When the <code>Option.PLAIN_DEFINITION_KEYS</code> is being enabled, that automatic clean-up gets even stricter, in order to comply with even more limited set of allowed characters according to the OpenAPI specification.
</aside>
<h2 id='names-of-fields-methods-in-an-object-39-s-properties'>Names of fields/methods in an object&#39;s <code>properties</code></h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPropertyNameOverrideResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">JsonProperty</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">JsonProperty:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPropertyNameOverrideResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"is"</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">method</span><span class="o">.</span><span class="na">getArgumentCount</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="o">?</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">2</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withPropertyNameOverrideResolver()</code> is expecting an alternative name to be returned for a given <code>FieldScope</code>/<code>MethodScope</code> to be used as key in the containing object&#39;s <code>&quot;properties&quot;</code> – the first non-<code>null</code> value will be applied.</p>

<aside class="notice">
    This configuration is useful only if the naming of fields/methods in your code don't match the corresponding structure being described in the generated schema.
    <br/>
    Most likely, there will be a convention (e.g. <code>@JsonNamingStrategy</code>) or specific setting (e.g. <code>@JsonProperty("x")</code>) indicating what alternative name to use. That same logic would need to be replicated here then.
</aside>
<h2 id='omitting-ignoring-certain-fields-methods'>Omitting/ignoring certain fields/methods</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withIgnoreCheck</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"_"</span><span class="o">));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withIgnoreCheck</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="o">!</span><span class="n">method</span><span class="o">.</span><span class="na">isVoid</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">method</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Object</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<p><code>withIgnoreCheck()</code> is expecting the indication to be returned whether a given <code>FieldScope</code>/<code>MethodScope</code> should be excluded from the generated schema. If any check returns <code>true</code>, the field/method will be ignored.</p>
<h2 id='decide-whether-a-field-39-s-method-39-s-value-may-be-null'>Decide whether a field&#39;s/method&#39;s value may be <code>null</code></h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNullableCheck</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">Nullable</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNullableCheck</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">NotNull</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withNullableCheck()</code> is expecting the indication to be returned whether a given <code>FieldScope</code>/<code>MethodScope</code> may return <code>null</code> and should therefore include <code>&quot;null&quot;</code> in the generated schema&#39;s <code>&quot;type&quot;</code>.</p>

<ul>
<li>If there is no check or all of them return <code>null</code>, the default will be applied (depending on whether <code>Option.NULLABLE_FIELDS_BY_DEFAULT</code>/<code>Option.NULLABLE_METHOD_RETURN_VALUES_BY_DEFAULT</code> were enabled).</li>
<li>If any check returns <code>true</code>, the field/method will be deemed nullable.</li>
<li>Otherwise, the field/method will be deemed not-nullable.</li>
</ul>
<h2 id='quot-required-quot-keyword'><code>&quot;required&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withRequiredCheck</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">Nullable</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withRequiredCheck</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">NotNull</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withRequiredCheck()</code> is expecting the indication to be returned whether a given <code>FieldScope</code>/<code>MethodScope</code> should be included in the <code>&quot;required&quot;</code> attribute – if any check returns <code>true</code>, the field/method will be deemed <code>&quot;required&quot;</code>.</p>
<h2 id='quot-dependentrequired-quot-keyword'><code>&quot;dependentRequired&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDependentRequiresResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
        <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">IfPresentAlsoRequire</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">IfPresentAlsoRequire:</span><span class="o">:</span><span class="n">value</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Arrays:</span><span class="o">:</span><span class="n">asList</span><span class="o">)</span>
        <span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDependentRequiresResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span><span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">findGetterField</span><span class="o">())</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">FieldScope:</span><span class="o">:</span><span class="n">getSchemaPropertyName</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Collections:</span><span class="o">:</span><span class="n">singletonList</span><span class="o">)</span>
        <span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withDependentRequiresResolver()</code> is expecting the names of other properties to be returned, which should be deemed &quot;required&quot;, if the property represented by the given field/method is present.
The results of all registered resolvers are being combined.</p>
<h2 id='quot-readonly-quot-keyword'><code>&quot;readOnly&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withReadOnlyCheck</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">ReadOnly</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withReadOnlyCheck</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">ReadOnly</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withReadOnlyCheck()</code> is expecting the indication to be returned whether a given <code>FieldScope</code>/<code>MethodScope</code> should be included in the <code>&quot;readOnly&quot;</code> attribute – if any check returns <code>true</code>, the field/method will be deemed <code>&quot;readOnly&quot;</code>.</p>
<h2 id='quot-writeonly-quot-keyword'><code>&quot;writeOnly&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withWriteOnlyCheck</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">WriteOnly</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withWriteOnlyCheck</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">WriteOnly</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withWriteOnlyCheck()</code> is expecting the indication to be returned whether a given <code>FieldScope</code>/<code>MethodScope</code> should be included in the <code>&quot;writeOnly&quot;</code> attribute – if any check returns <code>true</code>, the field/method will be deemed <code>&quot;writeOnly&quot;</code>.</p>
<h2 id='quot-title-quot-keyword'><code>&quot;title&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTitleResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">YourClass</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"main schema title"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTitleResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"text field"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTitleResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"get"</span><span class="o">)</span> <span class="o">?</span> <span class="s">"getter"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withTitleResolver()</code> is expecting the <code>&quot;title&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-description-quot-keyword'><code>&quot;description&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDescriptionResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">YourClass</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"main schema description"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDescriptionResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"text field"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDescriptionResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"get"</span><span class="o">)</span> <span class="o">?</span> <span class="s">"getter"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p><code>withDescriptionResolver()</code> is expecting the <code>&quot;description&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-default-quot-keyword'><code>&quot;default&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDefaultResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="kt">boolean</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDefaultResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">""</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withDefaultResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">Default</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Default:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withDefaultResolver()</code> is expecting the <code>&quot;default&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied, which will be serialised through the <code>ObjectMapper</code> instance provided in the <code>SchemaGeneratorConfigBuilder</code>&#39;s constructor.</p>
<h2 id='quot-const-quot-quot-enum-quot-keyword'><code>&quot;const&quot;</code>/<code>&quot;enum&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withEnumResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">().</span><span class="na">isEnum</span><span class="o">()</span>
            <span class="o">?</span> <span class="nc">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">().</span><span class="na">getEnumConstants</span><span class="o">())</span>
                    <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">v</span> <span class="o">-&gt;</span> <span class="o">((</span><span class="nc">Enum</span><span class="o">)</span> <span class="n">v</span><span class="o">).</span><span class="na">name</span><span class="o">()).</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">())</span>
            <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withEnumResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">AllowedValues</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">AllowedValues:</span><span class="o">:</span><span class="n">valueList</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withEnumResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">SupportedValues</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">SupportedValues:</span><span class="o">:</span><span class="n">values</span><span class="o">).</span><span class="na">map</span><span class="o">(</span><span class="nl">Arrays:</span><span class="o">:</span><span class="n">asList</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withEnumResolver()</code> is expecting the <code>&quot;const&quot;</code>/<code>&quot;enum&quot;</code> attribute&#39;s value(s) to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied, which will be serialised through the <code>ObjectMapper</code> instance provided in the <code>SchemaGeneratorConfigBuilder</code>&#39;s constructor.</p>
<h2 id='quot-additionalproperties-quot-keyword'><code>&quot;additionalProperties&quot;</code> Keyword</h2>
<blockquote>
<p>Option 1: derive plain type from given scope</p>
</blockquote>

<p>One version of the <code>withAdditionalPropertiesResolver()</code> is expecting the <code>&quot;additionalProperties&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="nc">Object</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Object</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">Void</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Map</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="n">method</span><span class="o">.</span><span class="na">getTypeParameterFor</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span> <span class="o">:</span> <span class="nc">Void</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<ul>
<li>If <code>null</code> is being returned, the next registered <code>AdditionalPropertiesResolver</code> will be checked. If all return <code>null</code>, the attribute will be omitted.</li>
<li>If <code>Object.class</code> is being returned, the <code>&quot;additionalProperties&quot;</code> attribute will be omitted.</li>
<li>if <code>Void.class</code> is being returned, the <code>&quot;additionalProperties&quot;</code> will be set to <code>false</code>.</li>
<li>If any other type is being returned (e.g. other <code>Class</code> or a <code>ResolvedType</code>) a corresponding schema will be included in <code>&quot;additionalProperties&quot;</code>.</li>
</ul>

<blockquote>
<p>Option 2: specify explicit subschema</p>
</blockquote>

<p>Another version of the <code>withAdditionalPropertiesResolver()</code> is expecting the <code>&quot;additionalProperties&quot;</code> attribute&#39;s value to be provided directly as a <code>JsonNode</code> (e.g., <code>ObjectNode</code>) representing the desired subschema.
In this case, both the <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> and the overall generation context are being provided as input parameters.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">((</span><span class="n">scope</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">BooleanNode</span><span class="o">.</span><span class="na">TRUE</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">((</span><span class="n">field</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Object</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">BooleanNode</span><span class="o">.</span><span class="na">FALSE</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withAdditionalPropertiesResolver</span><span class="o">((</span><span class="n">method</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">method</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">ResolvedType</span> <span class="n">valueType</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="na">getTypeParameterFor</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">valueType</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">valueType</span><span class="o">.</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Object</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="na">createStandardDefinitionReference</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">asFakeContainerItemScope</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1</span><span class="o">),</span> <span class="kc">null</span><span class="o">);</span>
    <span class="o">});</span>
</code></pre></div>
<ul>
<li>If <code>null</code> is being returned, the next registered <code>AdditionalPropertiesResolver</code> will be checked. If all return <code>null</code>, the attribute will be omitted.</li>
<li>If <code>BooleanNode.TRUE</code> is being returned, the <code>&quot;additionalProperties&quot;</code> attribute will be omitted.</li>
<li>if <code>BooleanNode.FALSE</code> is being returned, the <code>&quot;additionalProperties&quot;</code> will be set to <code>false</code>.</li>
<li>If any other subschema is being returned, that will be included as <code>&quot;additionalProperties&quot;</code> attribute directly.</li>
</ul>

<p>This usage of the <code>FieldScope</code>/<code>MethodScope</code> potentially via <code>asFakeContainerItemScope()</code> has the advantage of allowing the consideration of annotations on generic parameters, such as the one on <code>Map&lt;String, @Min(10) Integer&gt;</code> when that is the declared type of a field/method.
<aside class="success">
    The third example shown for the deriving <code>&quot;additionalProperties&quot;</code> from a <code>Map</code> value is the default behaviour offered via the <code>Option.MAP_VALUES_AS_ADDITIONAL_PROPERTIES</code>.
</aside></p>
<h2 id='quot-patternproperties-quot-keyword'><code>&quot;patternProperties&quot;</code> Keyword</h2>
<blockquote>
<p>Option 1: derive plain types from given scope</p>
</blockquote>

<p>One version of the <code>withPatternPropertiesResolver()</code> is expecting a <code>Map</code> of regular expressions to their corresponding allowed types to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPatternPropertiesResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">?</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">singletonMap</span><span class="o">(</span><span class="s">"^[a-zA-Z]+$"</span><span class="o">,</span> <span class="n">scope</span><span class="o">.</span><span class="na">getTypeParameterFor</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1</span><span class="o">))</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPatternPropertiesResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">TypedMap</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">?</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">singletonMap</span><span class="o">(</span><span class="s">"_int$"</span><span class="o">,</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPatternPropertiesResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="n">method</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">StringMap</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">?</span> <span class="nc">Collections</span><span class="o">.</span><span class="na">singletonMap</span><span class="o">(</span><span class="s">"^txt_"</span><span class="o">,</span> <span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<p>Each regular expression will be included as key in the <code>&quot;patternProperties&quot;</code> attribute with a schema representing the mapped type as the corresponding value.</p>

<blockquote>
<p>Option 2: specify explicit subschema</p>
</blockquote>

<p>Another version of the <code>withPatternPropertiesResolver()</code> is expecting a <code>Map</code> with each value being a <code>JsonNode</code> (e.g., <code>ObjectNode</code>) representing the respective desired subschema.
In this case, both the <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> and the overall generation context are being provided as input parameters.</p>

<blockquote>
<p>The generation of the subschema could look similar to the example given for the <code>&quot;additionalProperties&quot;</code> attribute above.</p>
</blockquote>

<p>The usage of the <code>FieldScope</code>/<code>MethodScope</code> potentially via <code>asFakeContainerItemScope()</code> has the advantage of allowing the consideration of annotations on generic parameters, such as the one on <code>Map&lt;String, @Min(10) Integer&gt;</code> when that is the declared type of a field/method.</p>
<h2 id='quot-minlength-quot-keyword'><code>&quot;minLength&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMinLengthResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="no">UUID</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="mi">36</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMinLengthResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NotEmpty</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMinLengthResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Size</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Size:</span><span class="o">:</span><span class="n">min</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withStringMinLengthResolver()</code> is expecting the <code>&quot;minLength&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-maxlength-quot-keyword'><code>&quot;maxLength&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMaxLengthResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="no">UUID</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="mi">36</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMaxLengthResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">DbKey</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="mi">450</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringMaxLengthResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Size</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Size:</span><span class="o">:</span><span class="n">max</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withStringMaxLengthResolver()</code> is expecting the <code>&quot;maxLength&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-format-quot-keyword'><code>&quot;format&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringFormatResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="no">UUID</span><span class="o">.</span><span class="na">class</span> <span class="o">?</span> <span class="s">"uuid"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringFormatResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Email</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="s">"email"</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringFormatResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Schema</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Schema:</span><span class="o">:</span><span class="n">format</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withStringFormatResolver()</code> is expecting the <code>&quot;format&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-pattern-quot-keyword'><code>&quot;pattern&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringPatternResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="no">UUID</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="s">"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[89aAbB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringPatternResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Email</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="s">"^.+@.+\\..+$"</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withStringPatternResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Pattern</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Pattern:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withStringPatternResolver()</code> is expecting the <code>&quot;pattern&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-minimum-quot-keyword'><code>&quot;minimum&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMinimumResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">PositiveInt</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ONE</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMinimumResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NonNegative</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMinimumResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Minimum</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="o">!</span><span class="n">a</span><span class="o">.</span><span class="na">exclusive</span><span class="o">()).</span><span class="na">map</span><span class="o">(</span><span class="nl">Minimum:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withNumberInclusiveMinimumResolver()</code> is expecting the <code>&quot;minimum&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-exclusiveminimum-quot-keyword'><code>&quot;exclusiveMinimum&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMinimumResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">PositiveDecimal</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMinimumResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Positive</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMinimumResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Minimum</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="nl">Minimum:</span><span class="o">:</span><span class="n">exclusive</span><span class="o">).</span><span class="na">map</span><span class="o">(</span><span class="nl">Minimum:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withNumberExclusiveMinimumResolver()</code> is expecting the <code>&quot;exclusiveMinimum&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-maximum-quot-keyword'><code>&quot;maximum&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMaximumResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="k">new</span> <span class="nc">BigDecimal</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">)</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMaximumResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NonPositive</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberInclusiveMaximumResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Maximum</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="o">!</span><span class="n">a</span><span class="o">.</span><span class="na">exclusive</span><span class="o">()).</span><span class="na">map</span><span class="o">(</span><span class="nl">Maximum:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withNumberInclusiveMaximumResolver()</code> is expecting the <code>&quot;maximum&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-exclusivemaximum-quot-keyword'><code>&quot;exclusiveMaximum&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMaximumResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">NegativeInt</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMaximumResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Negative</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ZERO</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberExclusiveMaximumResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Maximum</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="nl">Maximum:</span><span class="o">:</span><span class="n">exclusive</span><span class="o">).</span><span class="na">map</span><span class="o">(</span><span class="nl">Maximum:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withNumberExclusiveMaximumResolver()</code> is expecting the <code>&quot;exclusiveMaximum&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-multipleof-quot-keyword'><code>&quot;multipleOf&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberMultipleOfResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="kt">int</span><span class="o">.</span><span class="na">class</span>
            <span class="o">?</span> <span class="nc">BigDecimal</span><span class="o">.</span><span class="na">ONE</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberMultipleOfResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Currency</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="k">new</span> <span class="nc">BigDecimal</span><span class="o">(</span><span class="s">"0.01"</span><span class="o">));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withNumberMultipleOfResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NumericConstraint</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">NumericConstraint:</span><span class="o">:</span><span class="n">multipleOf</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withNumberMultipleOfResolver()</code> is expecting the <code>&quot;multipleOf&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-minitems-quot-keyword'><code>&quot;minItems&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMinItemsResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">MandatoryList</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMinItemsResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NotEmpty</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMinItemsResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Size</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Size:</span><span class="o">:</span><span class="n">min</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withArrayMinItemsResolver()</code> is expecting the <code>&quot;minItems&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-maxitems-quot-keyword'><code>&quot;maxItems&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMaxItemsResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Triple</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">?</span> <span class="mi">3</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMaxItemsResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">NoMoreThanADozen</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="mi">12</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayMaxItemsResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Size</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Size:</span><span class="o">:</span><span class="n">max</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withArrayMaxItemsResolver()</code> is expecting the <code>&quot;maxItems&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h2 id='quot-uniqueitems-quot-keyword'><code>&quot;uniqueItems&quot;</code> Keyword</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayUniqueItemsResolver</span><span class="o">(</span><span class="n">scope</span> <span class="o">-&gt;</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Set</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayUniqueItemsResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="n">field</span>
            <span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">Unique</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="kc">true</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withArrayUniqueItemsResolver</span><span class="o">(</span><span class="n">method</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">ListConstraints</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">ListConstraints:</span><span class="o">:</span><span class="n">distinct</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<p><code>withArrayUniqueItemsResolver()</code> is expecting the <code>&quot;uniqueItems&quot;</code> attribute&#39;s value to be returned based on a given <code>TypeScope</code>/<code>FieldScope</code>/<code>MethodScope</code> – the first non-<code>null</code> value will be applied.</p>
<h1 id='generator-advanced-configurations'>Generator – Advanced Configurations</h1>
<p>When all of the above configuration options are insufficient to achieve your requirements, there are some more advanced configurations you can resort to.</p>
<h2 id='instance-attribute-overrides'>Instance Attribute Overrides</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withInstanceAttributeOverride</span><span class="o">((</span><span class="n">node</span><span class="o">,</span> <span class="n">field</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">node</span>
            <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"$comment"</span><span class="o">,</span> <span class="s">"Field name in code: "</span> <span class="o">+</span> <span class="n">field</span><span class="o">.</span><span class="na">getDeclaredName</span><span class="o">()));</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withInstanceAttributeOverride</span><span class="o">((</span><span class="n">node</span><span class="o">,</span> <span class="n">method</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">node</span>
            <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"readOnly"</span><span class="o">,</span> <span class="kc">true</span><span class="o">));</span>
</code></pre></div>
<p>If you want to set an attribute that is missing in the supported <a href="#generator-individual-configurations">Individual Configurations</a> for fields/methods or just want to have the last say in what combination of attribute values is being set for a field/method, you can use the following configurations:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forFields().withInstanceAttributeOverride()</code></li>
<li><code>SchemaGeneratorConfigBuilder.forMethods().withInstanceAttributeOverride()</code></li>
</ul>

<p>All defined overrides will be applied in the order of having been added to the <code>SchemaGeneratorConfigBuilder</code>. Each receiving the then-current set of attributes on an <code>ObjectNode</code> which can be freely manipulated.</p>
<h2 id='type-attribute-overrides'>Type Attribute Overrides</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTypeAttributeOverride</span><span class="o">((</span><span class="n">node</span><span class="o">,</span> <span class="n">scope</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">node</span>
            <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"$comment"</span><span class="o">,</span> <span class="s">"Java type: "</span> <span class="o">+</span> <span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">().</span><span class="na">getName</span><span class="o">()));</span>
</code></pre></div>
<p>Similarly to (but not quite the same as) the <a href="#instance-attribute-overrides">Instance Attribute Overrides</a> for fields/methods you can add missing attributes or manipulate collected ones on a per-type level through the following configuration:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forTypesInGeneral().withTypeAttributeOverride()</code></li>
</ul>

<p>All defined overrides will be applied in the order of having been added to the <code>SchemaGeneratorConfigBuilder</code>.
Each receiving the then-current type definition including the collected set of attributes on an <code>ObjectNode</code> which can be freely manipulated.</p>
<h2 id='target-type-overrides'>Target Type Overrides</h2>
<blockquote>
<p>E.g. for the <code>value</code> field in the following class you may know that the returned value is either a <code>String</code> or a <code>Number</code> but there is no common supertype but <code>Object</code> that can be declared:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">class</span> <span class="nc">ExampleForTargetTypeOverrides</span> <span class="o">{</span>
    <span class="nd">@ValidOneOfTypes</span><span class="o">({</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">Number</span><span class="o">.</span><span class="na">class</span><span class="o">})</span>
    <span class="kd">private</span> <span class="nc">Object</span> <span class="n">value</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setValue</span><span class="o">(</span><span class="nc">String</span> <span class="n">textValue</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">textValue</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setValue</span><span class="o">(</span><span class="nc">Number</span> <span class="n">numericValue</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">numericValue</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<blockquote>
<p>This could be solved by the following configuration:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withTargetTypeOverridesResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
            <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetterIfSupported</span><span class="o">(</span><span class="nc">ValidOneOfTypes</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">ValidOneOfTypes:</span><span class="o">:</span><span class="n">value</span><span class="o">).</span><span class="na">map</span><span class="o">(</span><span class="nl">Stream:</span><span class="o">:</span><span class="n">of</span><span class="o">)</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">stream</span> <span class="o">-&gt;</span> <span class="n">stream</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">specificSubtype</span> <span class="o">-&gt;</span> <span class="n">field</span><span class="o">.</span><span class="na">getContext</span><span class="o">().</span><span class="na">resolve</span><span class="o">(</span><span class="n">specificSubtype</span><span class="o">)))</span>
            <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">stream</span> <span class="o">-&gt;</span> <span class="n">stream</span><span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">()))</span>
            <span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">));</span>
</code></pre></div>
<blockquote>
<p>The generated schema would look like this then:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"anyOf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w"> </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w"> </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Java does not support multiple type alternatives to be declared. This means you may have to declare a rather generic type on a field or as a method&#39;s return value even though there is only a finite list of types that you actually expect to be returned.
To improve the generated schema by listing the actual alternatives via <code>&quot;anyOf&quot;</code>, you can make use of the following configurations:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forFields().withTargetTypeOverridesResolver()</code></li>
<li><code>SchemaGeneratorConfigBuilder.forMethods().withTargetTypeOverridesResolver()</code></li>
</ul>
<h2 id='subtype-resolvers'>Subtype Resolvers</h2>
<blockquote>
<p>E.g. to replace every occurrence of the <code>Animal</code> interface with the <code>Cat</code> and <code>Dog</code> implementations:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withSubtypeResolver</span><span class="o">((</span><span class="n">declaredType</span><span class="o">,</span> <span class="n">generationContext</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">declaredType</span><span class="o">.</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Animal</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">TypeContext</span> <span class="n">typeContext</span> <span class="o">=</span> <span class="n">generationContext</span><span class="o">.</span><span class="na">getTypeContext</span><span class="o">();</span>
            <span class="k">return</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
                    <span class="n">typeContext</span><span class="o">.</span><span class="na">resolveSubtype</span><span class="o">(</span><span class="n">declaredType</span><span class="o">,</span> <span class="nc">Cat</span><span class="o">.</span><span class="na">class</span><span class="o">),</span>
                    <span class="n">typeContext</span><span class="o">.</span><span class="na">resolveSubtype</span><span class="o">(</span><span class="n">declaredType</span><span class="o">,</span> <span class="nc">Dog</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">});</span>
</code></pre></div>
<p>When a declared type is not too broad as in the example for <a href="#target-type-overrides">Target Type Overrides</a> above, but rather an appropriate supertype or interface. You may also want to list the alternative implementations via <code>&quot;anyOf&quot;</code> wherever you encounter an <code>abstract</code> class or interface.
In order to reflect Java&#39;s polymorphism, you can make use of the following configuration:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forTypesInGeneral().withSubtypeResolver()</code></li>
</ul>

<p>This can of course be more generalised by employing your reflections library of choice for scanning your classpath for all implementations of an encountered type.</p>
<h2 id='custom-type-definitions'>Custom Type Definitions</h2>
<blockquote>
<p>E.g. treat <code>Collection</code>s as objects and not as <code>&quot;type&quot;: &quot;array&quot;</code> (which is the default):</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">((</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Collection</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="nc">ResolvedType</span> <span class="n">generic</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getTypeContext</span><span class="o">().</span><span class="na">getContainerItemType</span><span class="o">(</span><span class="n">javaType</span><span class="o">);</span>
        <span class="nc">SchemaGeneratorConfig</span> <span class="n">config</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getGeneratorConfig</span><span class="o">();</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">CustomDefinition</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">getGeneratorConfig</span><span class="o">().</span><span class="na">createObjectNode</span><span class="o">()</span>
                <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="na">getKeyword</span><span class="o">(</span><span class="nc">SchemaKeyword</span><span class="o">.</span><span class="na">TAG_TYPE</span><span class="o">),</span>
                        <span class="n">config</span><span class="o">.</span><span class="na">getKeyword</span><span class="o">(</span><span class="nc">SchemaKeyword</span><span class="o">.</span><span class="na">TAG_TYPE_OBJECT</span><span class="o">))</span>
                <span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">config</span><span class="o">.</span><span class="na">getKeyword</span><span class="o">(</span><span class="nc">SchemaKeyword</span><span class="o">.</span><span class="na">TAG_PROPERTIES</span><span class="o">),</span>
                        <span class="n">config</span><span class="o">.</span><span class="na">createObjectNode</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="s">"stream().findFirst().orElse(null)"</span><span class="o">,</span>
                                <span class="n">context</span><span class="o">.</span><span class="na">makeNullable</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">createDefinitionReference</span><span class="o">(</span><span class="n">generic</span><span class="o">)))));</span>
    <span class="o">});</span>
</code></pre></div>
<p>When all the generic configurations are not enough to achieve your specific requirements, you can still directly define parts of the schema yourself through the following configuration:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forTypesInGeneral().withCustomDefinitionProvider()</code></li>
</ul>

<blockquote>
<p>(1) When including an unchanged schema of a different type, use <code>createDefinitionReference()</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">((</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span>
        <span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="no">UUID</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">?</span> <span class="k">new</span> <span class="nc">CustomDefinition</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">createDefinitionReference</span><span class="o">(</span>
                    <span class="n">context</span><span class="o">.</span><span class="na">getTypeContext</span><span class="o">().</span><span class="na">resolve</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)))</span>
            <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<blockquote>
<p>(2) When including an unchanged schema of the same type, use <code>createStandardDefinitionReference()</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">CustomDefinitionProviderV2</span> <span class="n">thisProvider</span> <span class="o">=</span> <span class="o">(</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> 
    <span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Collection</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">?</span> <span class="k">new</span> <span class="nc">CustomDefinition</span><span class="o">(</span>
            <span class="n">context</span><span class="o">.</span><span class="na">createStandardDefinitionReference</span><span class="o">(</span><span class="n">javaType</span><span class="o">,</span> <span class="n">thisProvider</span><span class="o">),</span>
            <span class="nc">DefinitionType</span><span class="o">.</span><span class="na">STANDARD</span><span class="o">,</span> <span class="nc">AttributeInclusion</span><span class="o">.</span><span class="na">NO</span><span class="o">)</span>
        <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">(</span><span class="n">thisProvider</span><span class="o">);</span>
</code></pre></div>
<blockquote>
<p>(3) When adjusting a schema of a different type, use <code>createDefinition()</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">((</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span>
        <span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="no">UUID</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
            <span class="o">?</span> <span class="k">new</span> <span class="nc">CustomDefinition</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">createDefinition</span><span class="o">(</span>
                    <span class="n">context</span><span class="o">.</span><span class="na">getTypeContext</span><span class="o">().</span><span class="na">resolve</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
                        <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"format"</span><span class="o">,</span> <span class="s">"uuid"</span><span class="o">))</span>
            <span class="o">:</span> <span class="kc">null</span><span class="o">);</span>
</code></pre></div>
<blockquote>
<p>(4) When adjusting a schema of the same type, use <code>createStandardDefinition()</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">CustomDefinitionProviderV2</span> <span class="n">thisProvider</span> <span class="o">=</span> <span class="o">(</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> 
    <span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Collection</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
        <span class="o">?</span> <span class="k">new</span> <span class="nc">CustomDefinition</span><span class="o">(</span>
                <span class="n">context</span><span class="o">.</span><span class="na">createStandardDefinition</span><span class="o">(</span><span class="n">javaType</span><span class="o">,</span> <span class="n">thisProvider</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"$comment"</span><span class="o">,</span> <span class="s">"collection without other attributes"</span><span class="o">),</span>
                <span class="nc">DefinitionType</span><span class="o">.</span><span class="na">STANDARD</span><span class="o">,</span> <span class="nc">AttributeInclusion</span><span class="o">.</span><span class="na">NO</span><span class="o">)</span>
        <span class="o">:</span> <span class="kc">null</span><span class="o">;</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">(</span><span class="n">thisProvider</span><span class="o">);</span>
</code></pre></div>
<aside class="success">
    In order to avoid duplicating the logic for any nested schema, there are a number of methods to allow the "normal" schema generation to take over again.
</aside>

<ol>
<li><code>SchemaGenerationContext.createDefinitionReference()</code> creates a temporarily empty node which will be populated later with either a <code>$ref</code> or the appropriate inline schema, i.e. in order to not produce an inline definition – thereby allowing you to avoid endless loops in case of circular references.</li>
<li><code>SchemaGenerationContext.createStandardDefinitionReference()</code> to be used instead of the above when targeting the same type, to skip the current definition provider (and all previous ones) and thereby avoid endless loops.</li>
<li><code>SchemaGenerationContext.createDefinition()</code> creates an inline definition of the given scope, allowing you to apply changes on top (similar to attribute overrides); thereby avoiding the need to manually create everything from scratch.</li>
<li><code>SchemaGenerationContext.createStandardDefinition()</code> to be used instead of the above when targeting the same type, to skip the current definition provider (and all previous ones) and thereby avoid endless loops.</li>
</ol>

<p>Other useful methods available in the context of a custom definition provider are:</p>

<ul>
<li><code>SchemaGenerationContext.getGeneratorConfig().getObjectMapper().readTree()</code> allowing you to parse a string into a json (schema), in case you prefer to statically provide (parts of) the custom definitions.</li>
<li><code>SchemaGenerationContext.getTypeContext().resolve()</code> allowing you to produce <code>ResolvedType</code> instances which are expected by various other methods.</li>
</ul>

<aside class="notice">
    On the <code>CustomDefinition</code>'s constructor, you are able to decide whether it should be "inlined" or always result in a referenced/central definition and
    whether or not the attributes collected through the various other <a href="#generator-individual-configurations">Individual Configurations</a> shall be added.
</aside>
<h2 id='custom-property-definitions'>Custom Property Definitions</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="c1">// read a static schema string from an annotation</span>
<span class="nc">CustomPropertyDefinitionProvider</span> <span class="n">provider</span> <span class="o">=</span> <span class="o">(</span><span class="n">member</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Optional</span>
        <span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">Subschema</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">Subschema:</span><span class="o">:</span><span class="n">value</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">rawSchema</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="na">getGeneratorConfig</span><span class="o">().</span><span class="na">getObjectMapper</span><span class="o">().</span><span class="na">readTree</span><span class="o">(</span><span class="n">rawSchema</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">})</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">CustomPropertyDefinition:</span><span class="o">:</span><span class="k">new</span><span class="o">)</span>
        <span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
<span class="c1">// if you don't rely on specific field/method functionality,</span>
<span class="c1">// you can reuse the same provider for both of them</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">().</span><span class="na">withCustomDefinitionProvider</span><span class="o">(</span><span class="n">provider</span><span class="o">);</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forMethods</span><span class="o">().</span><span class="na">withCustomDefinitionProvider</span><span class="o">(</span><span class="n">provider</span><span class="o">);</span>
</code></pre></div>
<p>When not even the <a href="#custom-type-definitions">Custom Type Definitions</a> are flexible enough for you and you need to consider the specific field/method context in which a type is being encountered, there is one last path you can take:</p>

<ul>
<li><code>SchemaGeneratorConfigBuilder.forFields().withCustomDefinitionProvider()</code></li>
<li><code>SchemaGeneratorConfigBuilder.forMethods().withCustomDefinitionProvider()</code></li>
</ul>

<aside class="success">
    Apart from the given <code>FieldScope</code>/<code>MethodScope</code> input parameter,
    these are pretty much the same as the <a href="#custom-type-definitions">Custom Type Definitions</a> described above.
</aside>

<aside class="notice">
    By their very nature, a field/method schema is always going to be defined "in-line" since it cannot be re-used.
    However, you can still decide whether the attributes collected through the various other <a href="#generator-individual-configurations">Individual Configurations</a> shall be added,
    through the <code>AttributeInclusion</code> parameter in the <code>CustomPropertyDefinition</code>'s constructor.
</aside>
<h2 id='order-of-object-properties'>Order of Object Properties</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="c1">// sort by custom @JsonPropertyIndex(3) annotation</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withPropertySorter</span><span class="o">(</span><span class="nc">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="n">member</span> <span class="o">-&gt;</span> <span class="nc">Optional</span><span class="o">.</span><span class="na">ofNullable</span><span class="o">(</span><span class="n">member</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="nc">JsonPropertyIndex</span><span class="o">.</span><span class="na">class</span><span class="o">))</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">JsonPropertyIndex:</span><span class="o">:</span><span class="n">value</span><span class="o">)</span>
                <span class="o">.</span><span class="na">orElse</span><span class="o">(</span><span class="mi">0</span><span class="o">)));</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="c1">// preserve property order in byte code (determined by compiler)</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withPropertySorter</span><span class="o">((</span><span class="n">first</span><span class="o">,</span> <span class="n">second</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="mi">0</span><span class="o">);</span>
</code></pre></div>
<p>You may want to control the order in which an object&#39;s properties are being listed, e.g., when using the JSON schema as basis for an auto-generated form in some user interface.<br>
By default, fields are being included before methods -- with each sublist being sorted alphabetically.</p>

<p>You can define your own <code>Comparator&lt;MemberScope&lt;?, ?&gt;&gt;</code>, e.g., considering an annotation specifying the desired order or disable the sorting by always returning zero (<code>0</code>).<br>
With disabled property sorting, your compiler decides the order of the properties in your generated JSON schema. Depending on the compiler, this may correspond to the declaration order in your source file but is not guaranteed.</p>
<h1 id='jackson-module'>Jackson Module</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-module-jackson">victools:jsonschema-module-jackson</a> provides a number of standard configurations for deriving JSON Schema attributes from <code>jackson</code> annotations as well as looking up appropriate (annotated) subtypes.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.jackson.JacksonModule</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.jackson.JacksonOption</span><span class="o">;</span>


<span class="nc">JacksonModule</span> <span class="n">module</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JacksonModule</span><span class="o">(</span>
        <span class="nc">JacksonOption</span><span class="o">.</span><span class="na">FLATTENED_ENUMS_FROM_JSONVALUE</span>
<span class="o">);</span>
<span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">)</span>
    <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">module</span><span class="o">);</span>
</code></pre></div>
<ol>
<li>Set a field/method&#39;s &quot;description&quot; as per <code>@JsonPropertyDescription</code></li>
<li>Set a type&#39;s &quot;description&quot; as per <code>@JsonClassDescription</code>.</li>
<li>Override a field&#39;s/method&#39;s property name as per <code>@JsonProperty</code> annotations.</li>
<li>Ignore fields/methods that are marked with a <code>@JsonBackReference</code> annotation.</li>
<li>Ignore fields (and their associated getter methods) that are deemed to be ignored according to various other <code>jackson-annotations</code> (e.g. <code>@JsonIgnore</code>, <code>@JsonIgnoreType</code>, <code>@JsonIgnoreProperties</code>) or are otherwise supposed to be excluded.</li>
<li>Optionally: set a field/method as &quot;required&quot; as per <code>@JsonProperty</code> annotations, if the <code>JacksonOption.RESPECT_JSONPROPERTY_REQUIRED</code> was provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Optionally: treat enum types as plain strings as per the <code>@JsonValue</code> annotated method, if there is one and the <code>JacksonOption.FLATTENED_ENUMS_FROM_JSONVALUE</code> was provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Optionally: treat enum types as plain strings, as per each enum constant&#39;s <code>@JsonProperty</code> annotation, if all values of an enum have such annotations and the <code>JacksonOption.FLATTENED_ENUMS_FROM_JSONPROPERTY</code> was provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Optionally: sort an object&#39;s properties according to its <code>@JsonPropertyOrder</code> annotation, if the <code>JacksonOption.RESPECT_JSONPROPERTY_ORDER</code> was provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Subtype resolution according to <code>@JsonSubTypes</code> on a supertype in general or directly on specific fields/methods as an override of the per-type behavior unless <code>JacksonOption.SKIP_SUBTYPE_LOOKUP</code> was provided (i.e. this is an &quot;opt-out&quot;).</li>
<li>Apply structural changes for subtypes according to <code>@JsonTypeInfo</code> on a supertype in general or directly on specific fields/methods as an override of the per-type behavior unless <code>JacksonOption.IGNORE_TYPE_INFO_TRANSFORM</code> was provided (i.e. this is an &quot;opt-out&quot;).

<ul>
<li>Considering <code>@JsonTypeInfo.include</code> with values <code>As.PROPERTY</code>, <code>As.EXISTING_PROPERTY</code>, <code>As.WRAPPER_ARRAY</code>, <code>As.WRAPPER_OBJECT</code></li>
<li>Considering <code>@JsonTypeInfo.use</code> with values <code>Id.CLASS</code>, <code>Id.NAME</code></li>
</ul></li>
<li>Consider <code>@JsonProperty.access</code> for marking a field/method as <code>readOnly</code> or <code>writeOnly</code></li>
<li>Optionally: ignore all methods but those with a <code>@JsonProperty</code> annotation, if the <code>JacksonOption.INCLUDE_ONLY_JSONPROPERTY_ANNOTATED_METHODS</code> was provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Optionally: respect <code>@JsonIdentityReference(alwaysAsId=true)</code> annotation if there is a corresponding <code>@JsonIdentityInfo</code> annotation on the type and the <code>JacksonOption.JSONIDENTITY_REFERENCE_ALWAYS_AS_ID</code> as provided (i.e., this is an &quot;opt-in&quot;)</li>
<li>Elevate nested properties to the parent type where members are annotated with <code>@JsonUnwrapped</code>.</li>
<li>Support <code>@JacksonAnnotationsInside</code> annotated combo annotations</li>
</ol>

<p>Schema attributes derived from annotations on getter methods are also applied to their associated fields.</p>

<p>To use it, just pass a module instance into <code>SchemaGeneratorConfigBuilder.with(Module)</code>, optionally providing <code>JacksonOption</code> values in the module&#39;s constructor.</p>

<hr>

<p>For a description of the available <code>JacksonOption</code> values and their meaning (apart from their mentionings in above enumeration), please refer to the <code>JacksonOption</code> class or its JavaDoc.</p>
<h1 id='jakarta-validation-module'>Jakarta Validation Module</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-module-jakarta-validation">victools:jsonschema-module-jakarta-validation</a> provides a number of standard configurations for deriving JSON Schema attributes from <code>jakarta.validation.constraints</code> annotations.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.jakarta.validation.JakartaValidationModule</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.jakarta.validation.JakartaValidationOption</span><span class="o">;</span>


<span class="nc">JakartaValidationModule</span> <span class="n">module</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JakartaValidationModule</span><span class="o">(</span><span class="nc">JakartaValidationOption</span><span class="o">.</span><span class="na">PREFER_IDN_EMAIL_FORMAT</span><span class="o">)</span>
    <span class="o">.</span><span class="na">forValidationGroups</span><span class="o">(</span><span class="nc">YourGroupFlag</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">)</span>
    <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">module</span><span class="o">);</span>
</code></pre></div>
<ol>
<li>Determine whether a member is not nullable, base assumption being that all fields and method return values are nullable if not annotated. Based on <code>@NotNull</code>/<code>@Null</code>/<code>@NotEmpty</code>/<code>@NotBlank</code>.</li>
<li>Populate list of &quot;required&quot; fields/methods for objects if <code>JakartaValidationOption.NOT_NULLABLE_FIELD_IS_REQUIRED</code>/<code>JakartaValidationOption.NOT_NULLABLE_METHOD_IS_REQUIRED</code> is being provided respectively (i.e. this is an &quot;opt-in&quot;).</li>
<li>Populate &quot;minItems&quot; and &quot;maxItems&quot; for containers (i.e. arrays and collections). Based on <code>@Size</code>/<code>@NotEmpty</code>.</li>
<li>Populate &quot;minProperties&quot; and &quot;maxProperties&quot; for map types. Based on <code>@Size</code>/<code>@NotEmpty</code>.</li>
<li>Populate &quot;minLength&quot; and &quot;maxLength&quot; for strings. Based on <code>@Size</code>/<code>@NotEmpty</code>/<code>@NotBlank</code>.</li>
<li>Populate &quot;format&quot; for strings. Based on <code>@Email</code>, can be &quot;email&quot; or &quot;idn-email&quot; depending on whether <code>JakartaValidationOption.PREFER_IDN_EMAIL_FORMAT</code> is being provided.</li>
<li>Populate &quot;pattern&quot; for strings. Based on <code>@Pattern</code>/<code>@Email</code>, if <code>JakartaValidationOption.INCLUDE_PATTERN_EXPRESSIONS</code> is being provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Populate &quot;minimum&quot;/&quot;exclusiveMinimum&quot; for numbers. Based on <code>@Min</code>/<code>@DecimalMin</code>/<code>@Positive</code>/<code>@PositiveOrZero</code>.</li>
<li>Populate &quot;maximum&quot;/&quot;exclusiveMaximum&quot; for numbers. Based on <code>@Max</code>/<code>@DecimalMax</code>/<code>@Negative</code>/<code>@NegativeOrZero</code>.</li>
<li>Populate &quot;enum&quot;/&quot;const&quot; for booleans. Based on <code>@AssertTrue</code>/<code>@AssertFalse</code>.</li>
</ol>

<p>Schema attributes derived from validation annotations on fields are also applied to their respective getter methods.<br>
Schema attributes derived from validation annotations on getter methods are also applied to their associated fields.</p>

<p>To use it, just pass a module instance into <code>SchemaGeneratorConfigBuilder.with(Module)</code>, optionally providing <code>JakartaValidationOption</code> values in the module&#39;s constructor and/or specifying validation groups to filter by via <code>.forValidationGroups()</code>.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">module</span><span class="o">.</span><span class="na">forValidationGroups</span><span class="o">(</span><span class="nc">JsonSchemaValidation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<p>The <code>jakarta.validation.constraints</code> annotations cater for a <code>groups</code> parameter to be added, to allow different sets of validations to be applied under different circumstances.
Via <code>.forValidationGroups()</code> you&#39;re able to indicate which <code>groups</code> should be considered during the schema generation.
Without specifying particular groups via <code>.forValidationGroups()</code>, no filtering will be applied – i.e. all supported <code>jakarta.validation.constraints</code> annotations will be considered regardless of their respective <code>groups</code>.</p>
<h1 id='javax-validation-module'>Javax Validation Module</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-module-javax-validation">victools:jsonschema-module-javax-validation</a> provides a number of standard configurations for deriving JSON Schema attributes from <code>javax.validation</code> annotations.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.javax.validation.JavaxValidationModule</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.javax.validation.JavaxValidationOption</span><span class="o">;</span>


<span class="nc">JavaxValidationModule</span> <span class="n">module</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JavaxValidationModule</span><span class="o">(</span><span class="nc">JavaxValidationOption</span><span class="o">.</span><span class="na">PREFER_IDN_EMAIL_FORMAT</span><span class="o">)</span>
    <span class="o">.</span><span class="na">forValidationGroups</span><span class="o">(</span><span class="nc">YourGroupFlag</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">)</span>
    <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">module</span><span class="o">);</span>
</code></pre></div>
<ol>
<li>Determine whether a member is not nullable, base assumption being that all fields and method return values are nullable if not annotated. Based on <code>@NotNull</code>/<code>@Null</code>/<code>@NotEmpty</code>/<code>@NotBlank</code>.</li>
<li>Populate list of &quot;required&quot; fields/methods for objects if <code>JavaxValidationOption.NOT_NULLABLE_FIELD_IS_REQUIRED</code>/<code>JavaxValidationOption.NOT_NULLABLE_METHOD_IS_REQUIRED</code> is being provided respectively (i.e. this is an &quot;opt-in&quot;).</li>
<li>Populate &quot;minItems&quot; and &quot;maxItems&quot; for containers (i.e. arrays and collections). Based on <code>@Size</code>/<code>@NotEmpty</code>.</li>
<li>Populate &quot;minLength&quot; and &quot;maxLength&quot; for strings. Based on <code>@Size</code>/<code>@NotEmpty</code>/<code>@NotBlank</code>.</li>
<li>Populate &quot;format&quot; for strings. Based on <code>@Email</code>, can be &quot;email&quot; or &quot;idn-email&quot; depending on whether <code>JavaxValidationOption.PREFER_IDN_EMAIL_FORMAT</code> is being provided.</li>
<li>Populate &quot;pattern&quot; for strings. Based on <code>@Pattern</code>/<code>@Email</code>, if <code>JavaxValidationOption.INCLUDE_PATTERN_EXPRESSIONS</code> is being provided (i.e. this is an &quot;opt-in&quot;).</li>
<li>Populate &quot;minimum&quot;/&quot;exclusiveMinimum&quot; for numbers. Based on <code>@Min</code>/<code>@DecimalMin</code>/<code>@Positive</code>/<code>@PositiveOrZero</code>.</li>
<li>Populate &quot;maximum&quot;/&quot;exclusiveMaximum&quot; for numbers. Based on <code>@Max</code>/<code>@DecimalMax</code>/<code>@Negative</code>/<code>@NegativeOrZero</code>.</li>
</ol>

<p>Schema attributes derived from validation annotations on fields are also applied to their respective getter methods.<br>
Schema attributes derived from validation annotations on getter methods are also applied to their associated fields.</p>

<p>To use it, just pass a module instance into <code>SchemaGeneratorConfigBuilder.with(Module)</code>, optionally providing <code>JavaxValidationOption</code> values in the module&#39;s constructor and/or specifying validation groups to filter by via <code>.forValidationGroups()</code>.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">module</span><span class="o">.</span><span class="na">forValidationGroups</span><span class="o">(</span><span class="nc">JsonSchemaValidation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div>
<p>The <code>javax.validation</code> annotations cater for a <code>groups</code> parameter to be added, to allow different sets of validations to be applied under different circumstances.
Via <code>.forValidationGroups()</code> you&#39;re able to indicate which <code>groups</code> should be considered during the schema generation.
Without specifying particular groups via <code>.forValidationGroups()</code>, no filtering will be applied – i.e. all supported <code>javax.validation</code> annotations will be considered regardless of their respective <code>groups</code>.</p>
<h1 id='swagger-1-5-module'>Swagger 1.5 Module</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-module-swagger-1.5">victools:jsonschema-module-swagger-1.5</a> provides a number of standard configurations for deriving JSON Schema attributes from <code>swagger</code> (1.5.x) annotations.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.swagger15.SwaggerModule</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.swagger15.SwaggerOption</span><span class="o">;</span>


<span class="nc">SwaggerModule</span> <span class="n">module</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SwaggerModule</span><span class="o">(</span>
        <span class="nc">SwaggerOption</span><span class="o">.</span><span class="na">ENABLE_PROPERTY_NAME_OVERRIDES</span><span class="o">,</span>
        <span class="nc">SwaggerOption</span><span class="o">.</span><span class="na">IGNORING_HIDDEN_PROPERTIES</span>
<span class="o">);</span>
<span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">)</span>
    <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">module</span><span class="o">);</span>
</code></pre></div>
<ol>
<li>Set a field/method&#39;s &quot;description&quot; as per <code>@ApiModelProperty(value = ...)</code></li>
<li>Set a type&#39;s &quot;title&quot; as per <code>@ApiModel(value = ...)</code> unless <code>SwaggerOption.NO_APIMODEL_TITLE</code> was provided (i.e. this is an &quot;opt-out&quot;)</li>
<li>Set a type&#39;s &quot;description&quot; as per <code>@ApiModel(description = ...)</code> unless <code>SwaggerOption.NO_APIMODEL_DESCRIPTION</code> was provided (i.e. this is an &quot;opt-out&quot;)</li>
<li>Ignore a field/method if <code>@ApiModelProperty(hidden = true)</code> and <code>SwaggerOption.IGNORING_HIDDEN_PROPERTIES</code> was provided (i.e. this is an &quot;opt-in&quot;)</li>
<li>Override a field&#39;s property name as per <code>@ApiModelProperty(name = ...)</code> if <code>SwaggerOption.ENABLE_PROPERTY_NAME_OVERRIDES</code> was provided (i.e. this is an &quot;opt-in&quot;)</li>
<li>Indicate a number&#39;s (field/method) &quot;minimum&quot; (inclusive) according to <code>@ApiModelProperty(allowableValues = &quot;range[...&quot;)</code></li>
<li>Indicate a number&#39;s (field/method) &quot;exclusiveMinimum&quot; according to <code>@ApiModelProperty(allowableValues = &quot;range(...&quot;)</code></li>
<li>Indicate a number&#39;s (field/method) &quot;maximum&quot; (inclusive) according to <code>@ApiModelProperty(allowableValues = &quot;range...]&quot;)</code></li>
<li>Indicate a number&#39;s (field/method) &quot;exclusiveMaximum&quot; according to <code>@ApiModelProperty(allowableValues = &quot;range...)&quot;)</code></li>
<li>Indicate a field/method&#39;s &quot;const&quot;/&quot;enum&quot; as per <code>@ApiModelProperty(allowableValues = ...)</code> if it is not a numeric range declaration</li>
</ol>

<p>Schema attributes derived from <code>@ApiModelProperty</code> on fields are also applied to their respective getter methods.<br>
Schema attributes derived from <code>@ApiModelProperty</code> on getter methods are also applied to their associated fields.</p>

<p>To use it, just pass a module instance into <code>SchemaGeneratorConfigBuilder.with(Module)</code>, optionally providing <code>SwaggerOption</code> values in the module&#39;s constructor.</p>
<h1 id='swagger-2-module'>Swagger 2 Module</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-module-swagger-2">victools:jsonschema-module-swagger-2</a> provides a number of standard configurations for deriving JSON Schema attributes from OpenAPI/<code>swagger</code> (2.x) <code>@Schema</code> annotations.</p>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.module.swagger2.Swagger2Module</span><span class="o">;</span>


<span class="nc">Swagger2Module</span> <span class="n">module</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Swagger2Module</span><span class="o">();</span>
<span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="nc">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">)</span>
    <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">module</span><span class="o">);</span>
</code></pre></div>
<ol>
<li>From <code>@Schema(description = …)</code> on types in general, derive <code>&quot;description&quot;</code>.</li>
<li>From <code>@Schema(title = …)</code> on types in general, derive <code>&quot;title&quot;</code>.</li>
<li>From <code>@Schema(ref = …)</code> on types in general, replace subschema with <code>&quot;$ref&quot;</code> to external/separate schema (except for the main type being targeted).</li>
<li>From <code>@Schema(subTypes = …)</code> on types in general, derive <code>&quot;anyOf&quot;</code> alternatives.</li>
<li>From <code>@Schema(anyOf = …)</code> on types in general (as alternative to <code>subTypes</code>), derive <code>&quot;anyOf&quot;</code> alternatives.</li>
<li>From <code>@Schema(name = …)</code> on types in general, derive the keys/names in <code>&quot;definitions&quot;</code>/<code>&quot;$defs&quot;</code>.</li>
<li>From <code>@Schema(description = …)</code> on fields/methods, derive <code>&quot;description&quot;</code>.</li>
<li>From <code>@Schema(title = …)</code> on fields/methods, derive <code>&quot;title&quot;</code>.</li>
<li>From <code>@Schema(implementation = …)</code> on fields/methods, override represented type.</li>
<li>From <code>@Schema(hidden = true)</code> on fields/methods, skip certain properties.</li>
<li>From <code>@Schema(name = …)</code> on fields/methods, override property names.</li>
<li>From <code>@Schema(ref = …)</code> on fields/methods, replace subschema with <code>&quot;$ref&quot;</code> to external/separate schema.</li>
<li>From <code>@Schema(allOf = …)</code> on fields/methods, include <code>&quot;allOf&quot;</code> parts.</li>
<li>From <code>@Schema(anyOf = …)</code> on fields/methods, include <code>&quot;anyOf&quot;</code> parts.</li>
<li>From <code>@Schema(oneOf = …)</code> on fields/methods, include <code>&quot;oneOf&quot;</code> parts.</li>
<li>From <code>@Schema(not = …)</code> on fields/methods, include the indicated <code>&quot;not&quot;</code> subschema.</li>
<li>From <code>@Schema(requiredMode = REQUIRED)</code> or <code>@Schema(required = true)</code> on fields/methods, mark property as <code>&quot;required&quot;</code> in the schema containing the property.</li>
<li>From <code>@Schema(requiredProperties = …)</code> on fields/methods, derive its <code>&quot;required&quot;</code> properties.</li>
<li>From <code>@Schema(minProperties = …)</code> on fields/methods, derive its <code>&quot;minProperties&quot;</code>.</li>
<li>From <code>@Schema(maxProperties = …)</code> on fields/methods, derive its <code>&quot;maxProperties&quot;</code>.</li>
<li>From <code>@Schema(nullable = true)</code> on fields/methods, include <code>null</code> in its <code>&quot;type&quot;</code>.</li>
<li>From <code>@Schema(allowableValues = …)</code> on fields/methods, derive its <code>&quot;const&quot;</code>/<code>&quot;enum&quot;</code>.</li>
<li>From <code>@Schema(defaultValue = …)</code> on fields/methods, derive its <code>&quot;default&quot;</code>.</li>
<li>From <code>@Schema(accessMode = AccessMode.READ_ONLY)</code> on fields/methods, to mark them as <code>&quot;readOnly&quot;</code>.</li>
<li>From <code>@Schema(accessMode = AccessMode.WRITE_ONLY)</code> on fields/methods, to mark them as <code>&quot;writeOnly&quot;</code>.</li>
<li>From <code>@Schema(minLength = …)</code> on fields/methods, derive its <code>&quot;minLength&quot;</code>.</li>
<li>From <code>@Schema(maxLength = …)</code> on fields/methods, derive its <code>&quot;maxLength&quot;</code>.</li>
<li>From <code>@Schema(format = …)</code> on fields/methods, derive its <code>&quot;format&quot;</code>.</li>
<li>From <code>@Schema(pattern = …)</code> on fields/methods, derive its <code>&quot;pattern&quot;</code>.</li>
<li>From <code>@Schema(multipleOf = …)</code> on fields/methods, derive its <code>&quot;multipleOf&quot;</code>.</li>
<li>From <code>@Schema(minimum = …, exclusiveMinimum = …)</code> on fields/methods, derive its <code>&quot;minimum&quot;</code>/<code>&quot;exclusiveMinimum&quot;</code>.</li>
<li>From <code>@Schema(maximum = …, exclusiveMaximum = …)</code> on fields/methods, derive its <code>&quot;maximum&quot;</code>/<code>&quot;exclusiveMaximum&quot;</code>.</li>
<li>From <code>@ArraySchema(minItems = …)</code> on fields/methods, derive its <code>&quot;minItems&quot;</code>.</li>
<li>From <code>@ArraySchema(maxItems = …)</code> on fields/methods, derive its <code>&quot;maxItems&quot;</code>.</li>
<li>From <code>@ArraySchema(uniqueItems = …)</code> on fields/methods, derive its <code>&quot;uniqueItems&quot;</code>.</li>
</ol>

<p>Schema attributes derived from <code>@Schema</code>/<code>@ArraySchema</code> on fields are also applied to their respective getter methods.
Schema attributes derived from <code>@Schema</code>/<code>@ArraySchema</code> on getter methods are also applied to their associated fields.</p>

<p>To use it, just pass a module instance into <code>SchemaGeneratorConfigBuilder.with(Module)</code>.</p>
<h1 id='maven-plugin'>Maven Plugin</h1>
<p>The <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-maven-plugin">victools:jsonschema-maven-plugin</a> allows you to incorporate the generation of JSON Schemas from your code into your build process.
There are a number of basic configuration options as well as the possibility to define any kind of configurations through a <code>Module</code> of your own.</p>
<h2 id='target-types-to-generate-schemas-for'>Target Types to generate Schemas for</h2><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.github.victools<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jsonschema-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;executions&gt;</span>
        <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;goals&gt;</span>
                <span class="nt">&lt;goal&gt;</span>generate<span class="nt">&lt;/goal&gt;</span>
            <span class="nt">&lt;/goals&gt;</span>
        <span class="nt">&lt;/execution&gt;</span>
    <span class="nt">&lt;/executions&gt;</span>
    <span class="nt">&lt;configuration&gt;</span>
        <span class="nt">&lt;classNames&gt;</span>com/myOrg/myApp/My*<span class="nt">&lt;/classNames&gt;</span>
        <span class="nt">&lt;packageNames&gt;</span>com/myOrg/myApp/package?<span class="nt">&lt;/packageNames&gt;</span>
        <span class="nt">&lt;excludeClassNames&gt;</span>com/myOrg/myApp/**Hidden*<span class="nt">&lt;/excludeClassNames&gt;</span>
        <span class="nt">&lt;annotations&gt;</span>
            <span class="nt">&lt;annotation&gt;</span>com.myOrg.MySchemaAnnotation<span class="nt">&lt;/annotation&gt;</span>
        <span class="nt">&lt;/annotations&gt;</span>
        <span class="nt">&lt;skipAbstractTypes&gt;</span>true<span class="nt">&lt;/skipAbstractTypes&gt;</span>
        <span class="nt">&lt;skipInterfaces&gt;</span>true<span class="nt">&lt;/skipInterfaces&gt;</span>
        <span class="nt">&lt;classpath&gt;</span>PROJECT_ONLY<span class="nt">&lt;/classpath&gt;</span>
        <span class="nt">&lt;failIfNoClassesMatch&gt;</span>false<span class="nt">&lt;/failIfNoClassesMatch&gt;</span>
    <span class="nt">&lt;/configuration&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div>
<p>The designated types can be mentioned separately (with dots as package separator) or in the form of glob patterns (with <code>/</code> as package separator) in <code>&lt;classNames&gt;</code> and/or included as part of their packages through <code>&lt;packageNames&gt;</code>. Through <code>&lt;excludeClassNames&gt;</code> you can further narrow down the type selection.<br>
When specifying expected <code>&lt;annotations&gt;</code>, at least one of them need to be present on a given type to be considered – in addition to matching the aforementioned criteria, if those are present.<br>
The considered <code>&lt;classpath&gt;</code> may be further specified as one of four values:
- <code>PROJECT_ONLY</code> : only source files of the current project
- <code>WITH_COMPILE_DEPENDENCIES</code> : <code>PROJECT_ONLY</code> and compile dependencies
- <code>WITH_RUNTIME_DEPENDENCIES</code> : <code>PROJECT_ONLY</code> and runtime dependencies (default, if unspecified)
- <code>WITH_ALL_DEPENDENCIES</code> : all of the above
- <code>WITH_ALL_DEPENDENCIES_AND_TESTS</code> : all of the above, with the addition of the current project&#39;s test files  </p>
<h2 id='note-that-this-requires-a-different-lt-phase-gt-e-g-test-compile-being-specified-on-the-lt-execution-gt'>  Note that this requires a different <code>&lt;phase&gt;</code> (e.g., <code>test-compile</code>) being specified on the <code>&lt;execution&gt;</code>.</h2>
<p>By default, the plugin aborts if the glob pattern does not match any class. If this is not desired, the <code>&lt;failIfNoClassesMatch&gt;</code> property can be set to <code>false</code>.</p>
<h2 id='basic-configuration-options'>Basic Configuration Options</h2>
<p>There are some additional parameters available in the plugin <code>&lt;configuration&gt;</code>:</p>

<table><thead>
<tr>
<th>#</th>
<th>Tag</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td><code>&lt;schemaFilePath&gt;</code></td>
<td><code>src/main/resources</code></td>
<td>Directory to generate all schemas in</td>
</tr>
<tr>
<td>2</td>
<td><code>&lt;schemaFileName&gt;</code></td>
<td><code>{0}-schema.json</code></td>
<td>Relative path from the <code>&lt;schemaFilePath&gt;</code> including the file name pattern. Two placeholders are supported: <code>{0}</code> will be replaced with the respective simple class name (e.g. <code>TypeA</code>) <code>{1}</code> will be replaced with the respective package path (e.g. <code>com/myOrg/myApp</code>) in case you want to preserve the original package structure</td>
</tr>
<tr>
<td>3</td>
<td><code>&lt;schemaVersion&gt;</code></td>
<td><code>DRAFT_7</code></td>
<td>JSON Schema version to apply (<code>DRAFT_6</code>, <code>DRAFT_7</code>, <code>DRAFT_2019_09</code> or <code>DRAFT_2020_12</code>)</td>
</tr>
</tbody></table>
<h3 id='configuring-generated-file-names-and-locations'>Configuring generated file names and locations</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;classNames&gt;</span>com.myOrg.myApp.MyClass<span class="nt">&lt;/classNames&gt;</span>
    <span class="nt">&lt;schemaFilePath&gt;</span>src/main/resources/schemas<span class="nt">&lt;/schemaFilePath&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>The location where the files will be generated can be specified with the <code>&lt;schemaFilePath&gt;</code> element.
The default path is <code>src/main/resources</code></p>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;classNames&gt;</span>com.myOrg.myApp.MyClass<span class="nt">&lt;/classNames&gt;</span>
    <span class="nt">&lt;schemaFileName&gt;</span>{0}.schema<span class="nt">&lt;/schemaFileName&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>The name of the generated schema files can be configured with the <code>&lt;schemaFileName&gt;</code> element.
This is a substitution pattern that is used for all generated files. It is following the <code>MessageFormat</code> syntax,
where the following variables can be used:
 - <code>{0}</code> : This is the name of the class
 - <code>{1}</code> : This is the package path of the class</p>

<p>For example, the given configuration will create a <code>MyClass.schema</code> file.</p>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;packageNames&gt;</span>com.myOrg.myApp.utils<span class="nt">&lt;/packageNames&gt;</span>
    <span class="nt">&lt;schemaFileName&gt;</span>{1}/{0}.schema<span class="nt">&lt;/schemaFileName&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div>
<p>To store the generated schema files in the same directory structure as the originating classes, the following can be used <code>&lt;schemaFileName&gt;{1}/{0}-schema.json&lt;/schemaFileName&gt;</code>.<br>
The default <code>&lt;schemaFileName&gt;</code> is <code>{0}-schema.json</code>.</p>

<p>Additionally, you can omit the generation for abstract classes and/or interfaces by setting the respective <code>&lt;skipAbstractTypes&gt;</code> or <code>&lt;skipInterfaces&gt;</code> flags to <code>true</code> (by default, they are <code>false</code>).
<code>xml
&lt;configuration&gt;
    &lt;packageNames&gt;com/myOrg/myApp/package/**&lt;/packageNames&gt;
    &lt;skipAbstractTypes&gt;true&lt;/skipAbstractTypes&gt;
    &lt;skipInterfaces&gt;true&lt;/skipInterfaces&gt;
&lt;/configuration&gt;
</code></p>
<h3 id='selecting-options'>Selecting Options</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;options&gt;</span>
    <span class="nt">&lt;preset&gt;</span>FULL_DOCUMENTATION<span class="nt">&lt;/preset&gt;</span>
    <span class="nt">&lt;enabled&gt;</span>
        <span class="nt">&lt;option&gt;</span>DEFINITIONS_FOR_ALL_OBJECTS<span class="nt">&lt;/option&gt;</span>
        <span class="nt">&lt;option&gt;</span>FORBIDDEN_ADDITIONAL_PROPERTIES_BY_DEFAULT<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;/enabled&gt;</span>
    <span class="nt">&lt;disabled&gt;</span>SCHEMA_VERSION_INDICATOR<span class="nt">&lt;/disabled&gt;</span>
<span class="nt">&lt;/options&gt;</span>
</code></pre></div>
<p>The standard generator <a href="#generator-options"><code>Option</code>s</a> can be included via the <code>&lt;options&gt;</code> tag.</p>
<h2 id='further-configurations-through-modules'>Further configurations through Modules</h2><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;modules&gt;</span>
    <span class="nt">&lt;module&gt;</span>
        <span class="nt">&lt;name&gt;</span>Jackson<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;options&gt;</span>
            <span class="nt">&lt;option&gt;</span>FLATTENED_ENUMS_FROM_JSONVALUE<span class="nt">&lt;/option&gt;</span>
        <span class="nt">&lt;/options&gt;</span>
    <span class="nt">&lt;/module&gt;</span>
<span class="nt">&lt;/modules&gt;</span>
</code></pre></div>
<p>Through the <code>&lt;modules&gt;</code> tag you can include the standard modules – potentially with their <code>&lt;options&gt;</code> if there are any.</p>
<div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;modules&gt;</span>
    <span class="nt">&lt;module&gt;</span>
        <span class="nt">&lt;className&gt;</span>com.myOrg.myApp.CustomModule<span class="nt">&lt;/className&gt;</span>
    <span class="nt">&lt;/module&gt;</span>
<span class="nt">&lt;/modules&gt;</span>
</code></pre></div>
<p>You can also group any kind of configurations into a Module of your own and include it via its full class name.<br>
Make sure your custom module is on the classpath (considering the project itself as well as all compile and runtime dependencies) and has a default constructor.<br>
It is not possible to configure options for custom modules.</p>
<h3 id='altering-the-format-of-generated-schema-files'>Altering the format of generated schema files</h3><div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MavenPluginYamlModule</span> <span class="kd">implements</span> <span class="nc">Module</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">applyToConfigBuilder</span><span class="o">(</span><span class="nc">SchemaGeneratorConfigBuilder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Maven plugin should produce YAML files instead of JSON</span>
        <span class="nc">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">(</span><span class="k">new</span> <span class="nc">YAMLFactory</span><span class="o">());</span>
        <span class="c1">// set additional serialization options</span>
        <span class="n">mapper</span><span class="o">.</span><span class="na">getSerializationConfig</span><span class="o">()</span>
                <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="nc">JsonWriteFeature</span><span class="o">.</span><span class="na">WRITE_NUMBERS_AS_STRINGS</span><span class="o">);</span>
        <span class="n">mapper</span><span class="o">.</span><span class="na">setNodeFactory</span><span class="o">(</span><span class="nc">JsonNodeFactory</span><span class="o">.</span><span class="na">withExactBigDecimals</span><span class="o">(</span><span class="kc">true</span><span class="o">));</span>
        <span class="n">builder</span><span class="o">.</span><span class="na">withObjectMapper</span><span class="o">(</span><span class="n">mapper</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>One possibility within such a custom Module (as mentioned above) is to configure the format of the generated schema files.
The file contents are being produced by the schema generator&#39;s associated <code>ObjectMapper</code>.
That default <code>ObjectMapper</code> can be replaced, e.g., to opt-out of the default pretty-printing or changing the file format to YAML.
The given example requires the inclusion of the extra <code>com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</code> dependency.</p>
<h3 id='loading-custom-module-from-test-classes'>Loading custom Module from test classes</h3><div class="highlight"><pre class="highlight xml tab-xml"><code><span class="nt">&lt;executions&gt;</span>
    <span class="nt">&lt;execution&gt;</span>
        <span class="nt">&lt;phase&gt;</span>test-compile<span class="nt">&lt;/phase&gt;</span>
        <span class="nt">&lt;goals&gt;</span>
            <span class="nt">&lt;goal&gt;</span>generate<span class="nt">&lt;/goal&gt;</span>
        <span class="nt">&lt;/goals&gt;</span>
    <span class="nt">&lt;/execution&gt;</span>
<span class="nt">&lt;/executions&gt;</span>
</code></pre></div>
<p>When you&#39;re using a custom Module (as mentioned above) for additional configuration options, but don&#39;t want to include it among your application code,
you can either package it as separate artifact and include that as dependency of the plugin (not going into further detail here)
or the custom Module class can be included in your test packages.<br>
When you do the latter, the Maven plugin will by default not be able to load that class, since it won&#39;t be compiled yet in the Maven phase during which the schema generation is being executed.<br>
The Maven <code>compile</code> phase is when the schema generation gets triggered by default.
If you want the test classes (including the custom Module) to be available, a later phase (most likely: <code>test-compile</code>) needs to be specified.</p>
<h1 id='faq'>FAQ</h1><h2 id='is-there-a-gradle-plugin'>Is there a Gradle Plugin?</h2><div class="highlight"><pre class="highlight groovy tab-groovy"><code><span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.OptionPreset</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGenerator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaGeneratorConfigBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.github.victools.jsonschema.generator.SchemaVersion</span><span class="o">;</span>

<span class="n">buildscript</span> <span class="o">{</span>
    <span class="n">repositories</span> <span class="o">{</span>
        <span class="n">mavenCentral</span><span class="o">()</span>
    <span class="o">}</span>
    <span class="n">dependencies</span> <span class="o">{</span>
        <span class="n">classpath</span> <span class="nl">group:</span> <span class="s1">'com.github.victools'</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">'jsonschema-generator'</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">'4.16.0'</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'java-library'</span>
<span class="o">}</span>

<span class="n">task</span> <span class="n">generate</span> <span class="o">{</span>
    <span class="n">doLast</span> <span class="o">{</span>
        <span class="kt">def</span> <span class="n">configBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SchemaGeneratorConfigBuilder</span><span class="o">(</span><span class="n">SchemaVersion</span><span class="o">.</span><span class="na">DRAFT_2019_09</span><span class="o">,</span> <span class="n">OptionPreset</span><span class="o">.</span><span class="na">PLAIN_JSON</span><span class="o">);</span>
        <span class="c1">// apply your configurations here</span>
        <span class="kt">def</span> <span class="n">generator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SchemaGenerator</span><span class="o">(</span><span class="n">configBuilder</span><span class="o">.</span><span class="na">build</span><span class="o">());</span>
        <span class="c1">// target the class for which to generate a schema</span>
        <span class="kt">def</span> <span class="n">jsonSchema</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="na">generateSchema</span><span class="o">(</span><span class="n">SchemaVersion</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="c1">// handle generated schema, e.g. write it to the console or a file</span>
        <span class="kt">def</span> <span class="n">jsonSchemaAsString</span> <span class="o">=</span> <span class="n">jsonSchema</span><span class="o">.</span><span class="na">toPrettyString</span><span class="o">();</span>
        <span class="n">println</span> <span class="n">jsonSchemaAsString</span>
        <span class="k">new</span> <span class="nf">File</span><span class="o">(</span><span class="n">projectDir</span><span class="o">,</span> <span class="s2">"schema.json"</span><span class="o">).</span><span class="na">text</span> <span class="o">=</span> <span class="n">jsonSchemaAsString</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>There currently is no dedicated Gradle Plugin as such, but Gradle is flexible enough to allow you to use a java library straight from within the <code>build.gradle</code> file.
Checkout https://github.com/victools/jsonschema-gradle-example for the complete example.</p>
<h2 id='what-about-enums'>What about enums?</h2>
<blockquote>
<p>If you have a custom serialization logic for converting enum values to strings, you can re-use it in order to generate the correct list of allowed values:</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">();</span>
<span class="c1">// make use of your enum handling e.g. through your own serializer</span>
<span class="c1">// objectMapper.registerModule(new YourCustomEnumSerializerModule());</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="k">new</span> <span class="nc">EnumModule</span><span class="o">(</span><span class="n">possibleEnumValue</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">valueInQuotes</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="n">possibleEnumValue</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">valueInQuotes</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">valueInQuotes</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">JsonProcessingException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalStateException</span><span class="o">(</span><span class="n">ex</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}));</span>
</code></pre></div>
<p>Enums are a special construct for which there are multiple options:</p>

<ol>
<li><code>Option.FLATTENED_ENUMS</code> (which is part of the <code>OptionPreset.PLAIN_JSON</code>)

<ul>
<li>This defines an enum as <code>{ &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;VALUE1&quot;, &quot;VALUE2&quot;] }</code> with the <code>name()</code> method being called on each possible enum value.</li>
<li>If there is only one enum value, it will be set as <code>&quot;const&quot;</code> instead.</li>
<li>Such an enum representation will always be in-lined and not moved into the <code>&quot;definitions&quot;</code>/<code>&quot;$defs&quot;</code>.</li>
</ul></li>
<li><code>Option.SIMPLIFIED_ENUMS</code>(which is part of the <code>OptionPreset.JAVA_OBJECT</code> and <code>OptionPreset.FULL_DOCUMENTATION</code>)

<ul>
<li>This treats enums like any other class but hiding some methods and listing the possible enum values as <code>&quot;enum&quot;</code>/<code>&quot;const&quot;</code> on the <code>name()</code> method.</li>
</ul></li>
<li>Using neither of the two <code>Option</code>s above will let them be handled like any other class (unless there are further configurations taking care of enums).</li>
<li>The <code>JacksonModule</code> comes with two more alternatives:

<ul>
<li><code>JacksonOption.FLATTENED_ENUMS_FROM_JSONVALUE</code>, behaving like <code>Option.FLATTENED_ENUMS</code> but looking-up the respective values via the <code>@JsonValue</code> annotated method.</li>
<li><code>JacksonOption.FLATTENED_ENUMS_FROM_JSONPROPERTY</code>, behaving like <code>Option.FLATTENED_ENUMS</code> but looking-up the respective values via the <code>@JsonProperty</code> annotation on each enum value/constant.</li>
</ul></li>
<li>Write your own custom definition provider or re-use the <code>EnumModule</code> class as in the shown example.</li>
</ol>
<h2 id='how-to-always-inline-enums'>How to always inline enums?</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="kd">class</span> <span class="nc">InlineAllEnumsDefinitionProvider</span> <span class="kd">implements</span> <span class="nc">CustomDefinitionProviderV2</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">CustomDefinition</span> <span class="nf">provideCustomSchemaDefinition</span><span class="o">(</span><span class="nc">ResolvedType</span> <span class="n">javaType</span><span class="o">,</span> <span class="nc">SchemaGenerationContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">javaType</span><span class="o">.</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Enum</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="nc">ObjectNode</span> <span class="n">standardDefinition</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">createStandardDefinition</span><span class="o">(</span><span class="n">javaType</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">CustomDefinition</span><span class="o">(</span><span class="n">standardDefinition</span><span class="o">,</span>
                    <span class="nc">CustomDefinition</span><span class="o">.</span><span class="na">DefinitionType</span><span class="o">.</span><span class="na">INLINE</span><span class="o">,</span>
                    <span class="nc">CustomDefinition</span><span class="o">.</span><span class="na">AttributeInclusion</span><span class="o">.</span><span class="na">YES</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">(</span><span class="k">new</span> <span class="nc">InlineAllEnumsDefinitionProvider</span><span class="o">())</span>
</code></pre></div>
<p>If you want to generally avoid that enums are being referenced via the <code>$defs</code>/<code>definitions</code> (even with active <code>Option.DEFINITIONS_FOR_ALL_OBJECTS</code>), a construct like the <code>InlineAllEnumsDefinitionProvider</code> on the right can be used.<br>
As usual, such a <a href="#custom-type-definitions">Custom Type Definition</a> can be added via <code>configBuilder.forTypesInGeneral().withCustomDefinitionProvider()</code> accordingly.</p>
<h2 id='where-can-i-find-some-more-configuration-examples'>Where can I find some more configuration examples?</h2>
<p>Internally, a number of the standard <code>Option</code>s are realized via <a href="#generator-individual-configurations">Individual Configurations</a> and/or <a href="#generator-advanced-configurations">Advanced Configurations</a> – grouped into <code>Module</code>s.<br>
These make for excellent <a href="https://github.com/victools/jsonschema-generator/tree/master/jsonschema-generator/src/main/java/com/github/victools/jsonschema/generator/impl/module">examples</a> to get you started into your own setup, if the existing <code>Option</code>s do not cover your specific requirements.</p>
<h2 id='how-to-represent-a-map-lt-k-v-gt-in-a-generated-schema'>How to represent a <code>Map&lt;K, V&gt;</code> in a generated schema?</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
    <span class="o">.</span><span class="na">withPatternPropertiesResolver</span><span class="o">((</span><span class="n">scope</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">scope</span><span class="o">.</span><span class="na">getType</span><span class="o">().</span><span class="na">isInstanceOf</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
            <span class="c1">// within a Map&lt;Key, Value&gt; allow additional properties of the Value type, with purely alphabetic keys</span>
            <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Type</span><span class="o">&gt;</span> <span class="n">patternProperties</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;&gt;();</span>
            <span class="c1">// theoretically, you could derive an appropriate schema from the key type, accessible via the same getTypeParameterFor() method</span>
            <span class="c1">// if no type parameters are defined, this will result in `{}` to be set as value schema and thereby allowing any values for matching keys</span>
            <span class="n">patternProperties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"^[a-zA-Z]+$"</span><span class="o">,</span> <span class="n">scope</span><span class="o">.</span><span class="na">getTypeParameterFor</span><span class="o">(</span><span class="nc">Map</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>
            <span class="k">return</span> <span class="n">patternProperties</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">});</span>
</code></pre></div>
<p>By default, a <code>Map</code> will be treated like any other type – i.e. most likely a simple <code>{ &quot;type&quot;: &quot;object&quot; }</code> without many further details if you use the <code>OptionPreset.PLAIN_JSON</code> or otherwise ignore methods.
The following are the two most common approaches:</p>

<ol>
<li>Indicate the value type <code>V</code> as the expected type for any <code>&quot;additionalProperties&quot;</code> by including the <code>Option.MAP_VALUES_AS_ADDITIONAL_PROPERTIES</code>.<br>
You may also want to consider including the <code>Option.FORBIDDEN_ADDITIONAL_PROPERTIES_BY_DEFAULT</code> to forbid <code>&quot;additionalProperties&quot;</code> everywhere else.</li>
<li>If you have a clear idea of how the key type <code>K</code> will be serialized, you could also describe valid keys via <code>&quot;patternProperties&quot;</code> instead – as per the example on the right.</li>
</ol>

<p>Refer to https://json-schema.org/understanding-json-schema/reference/regular_expressions.html for a description of how to build valid patterns.</p>
<h2 id='how-to-populate-default-values'>How to populate <code>default</code> values?</h2>
<blockquote>
<p>Example 1</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">().</span><span class="na">withDefaultResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="nc">JsonProperty</span> <span class="n">annotation</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">getAnnotationConsideringFieldAndGetter</span><span class="o">(</span><span class="nc">JsonProperty</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">annotation</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">annotation</span><span class="o">.</span><span class="na">defaultValue</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="n">annotation</span><span class="o">.</span><span class="na">defaultValue</span><span class="o">();</span>
<span class="o">});</span>
</code></pre></div>
<blockquote>
<p>Example 2</p>
</blockquote>
<div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">ConcurrentMap</span><span class="o">&lt;</span><span class="nc">Class</span><span class="o">&lt;?&gt;,</span> <span class="nc">Object</span><span class="o">&gt;</span> <span class="n">instanceCache</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ConcurrentHashMap</span><span class="o">&lt;&gt;();</span>
<span class="n">configBuilder</span><span class="o">.</span><span class="na">forFields</span><span class="o">().</span><span class="na">withDefaultResolver</span><span class="o">(</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">declaringClass</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">getDeclaringType</span><span class="o">().</span><span class="na">getErasedType</span><span class="o">();</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">field</span><span class="o">.</span><span class="na">isFakeContainerItemScope</span><span class="o">()</span>
            <span class="o">&amp;&amp;</span> <span class="n">declaringClass</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"your.package"</span><span class="o">))</span> <span class="o">{</span>
        <span class="nc">MethodScope</span> <span class="n">getter</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="na">findGetter</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">getter</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">instanceCache</span><span class="o">.</span><span class="na">computeIfAbsent</span><span class="o">(</span><span class="n">declaringClass</span><span class="o">,</span> <span class="nl">declaringClass:</span><span class="o">:</span><span class="n">newInstance</span><span class="o">);</span>
                <span class="nc">Object</span> <span class="n">defaultValue</span> <span class="o">=</span> <span class="n">getter</span><span class="o">.</span><span class="na">getRawMember</span><span class="o">().</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">);</span>
                <span class="k">return</span> <span class="n">defaultValue</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// most likely missing a no-args constructor</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
<span class="o">});</span>
</code></pre></div>
<p>The short answer is: via the <code>withDefaultResolver()</code> – one of the <a href="#generator-individual-configurations">Individual Configurations</a>.<br>
The exact details depend on how the <code>default</code> value can be determined.</p>

<ol>
<li>If the <code>default</code> value is explicitly stated via some kind of annotation, it might be as simple as &quot;Example 1&quot; on the right.</li>
<li>If the <code>default</code> value is only set in code, and you cannot or don&#39;t want to maintain that piece of information twice this can get a bit more advanced. Here assuming your own classes all have a default no-args constructor and conventional getters as in &quot;Example 2&quot; on the right.</li>
</ol>
<h2 id='how-to-reference-a-separate-schema-file'>How to reference a separate schema/file?</h2><div class="highlight"><pre class="highlight java tab-java"><code><span class="n">configBuilder</span><span class="o">.</span><span class="na">forTypesInGeneral</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withCustomDefinitionProvider</span><span class="o">((</span><span class="n">javaType</span><span class="o">,</span> <span class="n">context</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">javaType</span><span class="o">.</span><span class="na">getErasedType</span><span class="o">()</span> <span class="o">!=</span> <span class="nc">MyExternalType</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// other types should be treated normally</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// define your custom reference value</span>
            <span class="nc">String</span> <span class="n">refValue</span> <span class="o">=</span> <span class="s">"./"</span> <span class="o">+</span> <span class="n">javaType</span><span class="o">.</span><span class="na">getErasedType</span><span class="o">().</span><span class="na">getSimpleName</span><span class="o">();</span>
            <span class="c1">// produce the sub-schema that only contains your custom reference</span>
            <span class="nc">ObjectNode</span> <span class="n">customNode</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getGeneratorConfig</span><span class="o">().</span><span class="na">createObjectNode</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">context</span><span class="o">.</span><span class="na">getKeyword</span><span class="o">(</span><span class="nc">SchemaKeyword</span><span class="o">.</span><span class="na">TAG_REF</span><span class="o">),</span> <span class="n">refValue</span><span class="o">);</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">CustomDefinition</span><span class="o">(</span><span class="n">customNode</span><span class="o">,</span>
                    <span class="c1">// avoid the creation of a reference to your custom reference schema</span>
                    <span class="nc">CustomDefinition</span><span class="o">.</span><span class="na">DefinitionType</span><span class="o">.</span><span class="na">INLINE</span><span class="o">,</span>
                    <span class="c1">// still allow for collected schema attributes to be added</span>
                    <span class="nc">CustomDefinition</span><span class="o">.</span><span class="na">AttributeInclusion</span><span class="o">.</span><span class="na">YES</span><span class="o">);</span>
        <span class="o">});</span>
</code></pre></div>
<p>By using <code>withCustomDefinitionProvider()</code> – one of the <a href="#generator-advanced-configurations">advanced configurations</a> – you can fully control the contents of a type&#39;s sub-schema.
Simply create a node that only contains your custom/external reference instead of the actual schema.
It is recommended to mark the custom definition as &quot;to be inlined&quot;, in order to avoid an extra entry in the <code>&quot;definitions&quot;</code>/<code>&quot;$defs&quot;</code>.</p>
<h1 id='motivation'>Motivation</h1>
<p>This started out as (and still is) a personal project. After writing Java code professionally for over a decade,
I am more and more consumed with rather theoretical work in my role as a business analyst and product owner –
i.e. writing specifications instead of code. However, my past still causes me to research available libraries and
components when coming up with ideas for new features, based on which I can then (at least try to) write &quot;realistic&quot;
specifications, i.e. features that can be feasibly implemented without requiring our developers to create something
from scratch (who&#39;d want to spend their valuable time and resources for that?). Open Source is awesome! Unfortunately,
such research does not always yield satisfying results.</p>

<p>The background for this particular requirement was very close to my heart as it affected me personally quite often.
I&#39;m working at Torque IT Solutions – a small company that puts a lot of emphasis on providing software products instead
of building custom applications for each customer. That means, such a product needs to be generic enough to be a fit
for every customer. Amongst other things, we do this through heaps of configuration options. In order to achieve the
desired flexibility, these configurations are sometimes very technical. E.g. allowing our customers (i.e. users) to
define JavaScript expressions based on our own Java DOM. In reality this means quite often: customers can configure it
themselves but will still ask us/me to provide those expressions. However, that poses the challenge of documenting our
DOM in a way that it can be used without having access to the code itself or its JavaDoc.
I couldn&#39;t find a nice way of doing the above without sentencing myself to constantly maintain a huge amount of
documentation.</p>

<p>It was development time again! I only needed to find some existing standard for documenting data structures (there
would surely be a way of automatically generating it from code then) and somehow visualize it, to allow non-developers
to use it. I quickly decided on the JSON Schema specification (although still in Draft version 6 then) and started
working on my <a href="https://github.com/CarstenWickner/react-jsonschema-inspector">react-jsonschema-inspector</a> component.
While I had already spent considerable amounts of my spare time on this frontend component (my first ReactJS component
– I really missed the strong Java typing!), I realized that the existing JSON Schema generation libraries typically
expected some specific annotations throughout the code base for the sole purpose of generating a JSON Schema. I surely
wasn&#39;t expecting our developers to go through hundreds of classes and specifying schema parts (by this time Draft
version 7) throughout the codebase. And none of the existing generation libraries seemed to allow for methods to be
documented (understandable, if you only aim at documenting a JSON structure, but not good enough for my purposes after
all).</p>

<p>Once more: development time! A new JSON Schema generation library needed to be created, as Open Source of course! At
least I was back in my familiar Java world. The whole topic of introspecting java types was a fun challenge that ended
in me adopting the use of the awesome <code>com.fasterxml/classmate</code> library – written by one of the maintainers of the
Jackson library, i.e. one who had worked with this kind of thing for a number of years already.
Then it was only about abstracting the actual schema generation from its configuration while still allowing almost all
aspects of the process to be customized to not force someone else to create yet another generation library just because
mine was too opinionated to be reusable (especially since Draft 2019-09 had just been published).</p>

<p>In our existing codebase, we already had annotations for various purposes: Jackson annotations to facilitate the
(de)serialization for our Rest API, Swagger annotations to document that Rest API, javax.validation annotations for
realizing automatic validations of incoming data and during persistence. I very much liked the modular configuration
approach in Jackson so I ended up employing the same principle to wrap a few standard configurations for easier re-use.
Feedback from some early adopters led to those few standard configurations to be further extended – especially the
subtype resolution/polymorphism seemed to have been an important point also in the creation of other libraries,
e.g. for the <a href="https://github.com/mbknor/mbknor-jackson-jsonSchema">mbknor-jackson-jsonSchema</a>.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
